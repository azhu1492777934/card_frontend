(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["logical_page"],{"79e9":function(e,t,a){},a167:function(e,t,a){"use strict";a.r(t);var i,r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"transaction-wrap"},[a("div",{staticClass:"animation-wrap"},[a("div",{staticClass:"loader-wrap"})])])}],c=a("a322"),o=(a("e17f"),a("2241")),s=(a("7f7f"),a("8a58"),a("e41f")),d=(a("cadf"),a("551c"),a("097d"),a("db04")),u=a("35df"),f={name:"index",components:(i={},Object(c["a"])(i,s["a"].name,s["a"]),Object(c["a"])(i,o["a"].name,o["a"]),i),data:function(){return{client_type:Object(u["c"])(),load_user_msg:!1,load_user_info:"正在授权,请等候",redirect_uri:Object(u["i"])("authorized_redirect_uri")}},created:function(){if(Object(u["i"])("token"))this.$router.push({path:"/mifi/card/lookup"});else if("wechat"===this.client_type||"alipay"===this.client_type)if(Object(u["i"])("state")&&Object(u["j"])("state")&&Object(u["i"])("state")===Object(u["j"])("state"))this.decryptData();else{var e=this;Object(u["m"])("token"),Object(u["m"])("state"),o["a"].alert({title:"绑定失败",message:"您的账号信息绑定失败,请重新授权绑定。"}).then(function(){e.$router.push("/mifi/index")})}else this.$router.push("/mifi/card/lookup")},methods:{decryptData:function(){var e=this;Object(d["b"])("/accountCenter/v2/secret/decrypt?"+Object(u["f"])({},"post"),{data:Object(u["j"])("data")}).then(function(t){if(0===t.error){if("alipay"===e.client_type){var a={uuid:t.data.data.user_id,openid:t.data.data.user_id,headimgurl:t.data.data.avatar,gender:"m"==t.data.data.gender?1:2,nickname:t.data.data.nick_name};Object(u["n"])("decrypt_data",a,"obj")}else if("wechat"===e.client_type){var i=t.data.data;i.unionid&&(i.openid=i.unionid),Object(u["n"])("decrypt_data",i,"obj")}e.login(t)}else 11002===t.error?(Object(u["n"])("refreshUrl",Object(u["a"])()),e.$emit("getToken",{from:"mifi"})):e.showAuthorityError("B"+t.error)})},login:function(e){var t=this;Object(d["b"])("/accountCenter/v2/auth/login?"+Object(u["f"])({},"post"),{uuid:Object(u["i"])("decrypt_data","obj").openid,code:e.data.code}).then(function(e){if(0===e.error)Object(u["n"])("token",e.data,"str",!0),Object(u["i"])("check_iccid")?t.$router.push("/mifi/index"):t.$router.push("/mifi/card/lookup");else if(11002===e.error)Object(u["n"])("refreshUrl",Object(u["a"])()),t.$emit("getToken",{from:"mifi"});else if(30005===e.error||11003===e.error){var a=t;o["a"].alert({title:"绑定信息",message:"为了您的账号安全，需要绑定您的手机号码"}).then(function(){a.$router.push({path:"/binding"})})}else t.showAuthorityError("L"+e.error)})},showAuthorityError:function(e){var t=this,a=e||"";o["a"].alert({title:"账号异常",message:"您的账户信息存在问题,无法进行操作,请联系我司客服工作人员,我们将尽快为您解决问题"+a+"。"}).then(function(){t.load_user_msg=!0,t.load_user_info="账号异常"+a})}}},l=f,p=(a("ff01"),a("2877")),h=Object(p["a"])(l,r,n,!1,null,null,null);h.options.__file="index.vue";t["default"]=h.exports},ff01:function(e,t,a){"use strict";var i=a("79e9"),r=a.n(i);r.a}}]);
//# sourceMappingURL=logical_page.d8a4d446.js.map