(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["customerFeedback"],{"02de":function(t,e,i){"use strict";function n(t){var e=window.getComputedStyle(t),i="none"===e.display,n=null===t.offsetParent&&"fixed"!==e.position;return i||n}i.d(e,"a",function(){return n})},"09fe":function(t,e,i){},4598:function(t,e,i){"use strict";(function(t){i.d(e,"c",function(){return l}),i.d(e,"b",function(){return h}),i.d(e,"a",function(){return u});var n=i("a142"),o=Date.now();function a(t){var e=Date.now(),i=Math.max(0,16-(e-o)),n=setTimeout(t,i);return o=e+i,n}var s=n["g"]?t:window,r=s.requestAnimationFrame||a,c=s.cancelAnimationFrame||s.clearTimeout;function l(t){return r.call(s,t)}function h(t){l(function(){l(t)})}function u(t){c.call(s,t)}}).call(this,i("c8ba"))},"504b":function(t,e,i){},"66b9":function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743"),i("e3b3"),i("bc1b")},"6f45":function(t,e,i){var o,a;(function(){var i=!1,s=function(t){return t instanceof s?t:this instanceof s?void(this.EXIFwrapped=t):new s(t)};"undefined"!==typeof t&&t.exports&&(e=t.exports=s),e.EXIF=s;var r=s.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},c=s.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},l=s.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},h=s.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},u=s.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function d(t){return!!t.exifdata}function f(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(t),n=i.length,o=new ArrayBuffer(n),a=new Uint8Array(o),s=0;s<n;s++)a[s]=i.charCodeAt(s);return o}function g(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},i.send()}function m(t,e){function n(i){var n=p(i);t.exifdata=n||{};var o=v(i);if(t.iptcdata=o||{},s.isXmpEnabled){var a=F(i);t.xmpdata=a||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src)){var o=f(t.src);n(o)}else if(/^blob\:/i.test(t.src)){var a=new FileReader;a.onload=function(t){n(t.target.result)},g(t.src,function(t){a.readAsArrayBuffer(t)})}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",t.src,!0),r.responseType="arraybuffer",r.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){a=new FileReader;a.onload=function(t){i&&console.log("Got file of length "+t.target.result.byteLength),n(t.target.result)},a.readAsArrayBuffer(t)}}function p(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n,o=2,a=t.byteLength;while(o<a){if(255!=e.getUint8(o))return i&&console.log("Not a valid marker at offset "+o+", found: "+e.getUint8(o)),!1;if(n=e.getUint8(o+1),i&&console.log(n),225==n)return i&&console.log("Found 0xFFE1 marker"),I(e,o+4,e.getUint16(o+2)-2);o+=2+e.getUint16(o+2)}}function v(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n=2,o=t.byteLength,a=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};while(n<o){if(a(e,n)){var s=e.getUint8(n+7);s%2!==0&&(s+=1),0===s&&(s=4);var r=n+8+s,c=e.getUint16(n+6+s);return w(t,r,c)}n++}}var b={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function w(t,e,i){var n,o,a,s,r=new DataView(t),c={},l=e;while(l<e+i)28===r.getUint8(l)&&2===r.getUint8(l+1)&&(s=r.getUint8(l+2),s in b&&(a=r.getInt16(l+3),a+5,o=b[s],n=P(r,l+5,a),c.hasOwnProperty(o)?c[o]instanceof Array?c[o].push(n):c[o]=[c[o],n]:c[o]=n)),l++;return c}function y(t,e,n,o,a){var s,r,c,l=t.getUint16(n,!a),h={};for(c=0;c<l;c++)s=n+12*c+2,r=o[t.getUint16(s,!a)],!r&&i&&console.log("Unknown tag: "+t.getUint16(s,!a)),h[r]=S(t,s,e,n,a);return h}function S(t,e,i,n,o){var a,s,r,c,l,h,u=t.getUint16(e+2,!o),d=t.getUint32(e+4,!o),f=t.getUint32(e+8,!o)+i;switch(u){case 1:case 7:if(1==d)return t.getUint8(e+8,!o);for(a=d>4?f:e+8,s=[],c=0;c<d;c++)s[c]=t.getUint8(a+c);return s;case 2:return a=d>4?f:e+8,P(t,a,d-1);case 3:if(1==d)return t.getUint16(e+8,!o);for(a=d>2?f:e+8,s=[],c=0;c<d;c++)s[c]=t.getUint16(a+2*c,!o);return s;case 4:if(1==d)return t.getUint32(e+8,!o);for(s=[],c=0;c<d;c++)s[c]=t.getUint32(f+4*c,!o);return s;case 5:if(1==d)return l=t.getUint32(f,!o),h=t.getUint32(f+4,!o),r=new Number(l/h),r.numerator=l,r.denominator=h,r;for(s=[],c=0;c<d;c++)l=t.getUint32(f+8*c,!o),h=t.getUint32(f+4+8*c,!o),s[c]=new Number(l/h),s[c].numerator=l,s[c].denominator=h;return s;case 9:if(1==d)return t.getInt32(e+8,!o);for(s=[],c=0;c<d;c++)s[c]=t.getInt32(f+4*c,!o);return s;case 10:if(1==d)return t.getInt32(f,!o)/t.getInt32(f+4,!o);for(s=[],c=0;c<d;c++)s[c]=t.getInt32(f+8*c,!o)/t.getInt32(f+4+8*c,!o);return s}}function x(t,e,i){var n=t.getUint16(e,!i);return t.getUint32(e+2+12*n,!i)}function C(t,e,i,n){var o=x(t,e+i,n);if(!o)return{};if(o>t.byteLength)return{};var a=y(t,e,e+o,h,n);if(a["Compression"])switch(a["Compression"]){case 6:if(a.JpegIFOffset&&a.JpegIFByteCount){var s=e+a.JpegIFOffset,r=a.JpegIFByteCount;a["blob"]=new Blob([new Uint8Array(t.buffer,s,r)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",a["Compression"])}else 2==a["PhotometricInterpretation"]&&console.log("Thumbnail image format is RGB, which is not implemented.");return a}function P(t,e,i){var o="";for(n=e;n<e+i;n++)o+=String.fromCharCode(t.getUint8(n));return o}function I(t,e){if("Exif"!=P(t,e,4))return i&&console.log("Not valid EXIF data! "+P(t,e,4)),!1;var n,o,a,s,h,d=e+6;if(18761==t.getUint16(d))n=!1;else{if(19789!=t.getUint16(d))return i&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getUint16(d+2,!n))return i&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var f=t.getUint32(d+4,!n);if(f<8)return i&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(d+4,!n)),!1;if(o=y(t,d,d+f,c,n),o.ExifIFDPointer)for(a in s=y(t,d,d+o.ExifIFDPointer,r,n),s){switch(a){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":s[a]=u[a][s[a]];break;case"ExifVersion":case"FlashpixVersion":s[a]=String.fromCharCode(s[a][0],s[a][1],s[a][2],s[a][3]);break;case"ComponentsConfiguration":s[a]=u.Components[s[a][0]]+u.Components[s[a][1]]+u.Components[s[a][2]]+u.Components[s[a][3]];break}o[a]=s[a]}if(o.GPSInfoIFDPointer)for(a in h=y(t,d,d+o.GPSInfoIFDPointer,l,n),h){switch(a){case"GPSVersionID":h[a]=h[a][0]+"."+h[a][1]+"."+h[a][2]+"."+h[a][3];break}o[a]=h[a]}return o["thumbnail"]=C(t,d,f,n),o}function F(t){if("DOMParser"in self){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n=2,o=t.byteLength,a=new DOMParser;while(n<o-4){if("http"==P(e,n,4)){var s=n-1,r=e.getUint16(n-2)-1,c=P(e,s,r),l=c.indexOf("xmpmeta>")+8;c=c.substring(c.indexOf("<x:xmpmeta"),l);var h=c.indexOf("x:xmpmeta")+10;c=c.slice(0,h)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+c.slice(h);var u=a.parseFromString(c,"text/xml");return T(u)}n++}}}function D(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var i=0;i<t.attributes.length;i++){var n=t.attributes.item(i);e["@attributes"][n.nodeName]=n.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var o=0;o<t.childNodes.length;o++){var a=t.childNodes.item(o),s=a.nodeName;if(null==e[s])e[s]=D(a);else{if(null==e[s].push){var r=e[s];e[s]=[],e[s].push(r)}e[s].push(D(a))}}return e}function T(t){try{var e={};if(t.children.length>0)for(var i=0;i<t.children.length;i++){var n=t.children.item(i),o=n.attributes;for(var a in o){var s=o[a],r=s.nodeName,c=s.nodeValue;void 0!==r&&(e[r]=c)}var l=n.nodeName;if("undefined"==typeof e[l])e[l]=D(n);else{if("undefined"==typeof e[l].push){var h=e[l];e[l]=[],e[l].push(h)}e[l].push(D(n))}}else e=t.textContent;return e}catch(t){console.log(t.message)}}s.enableXmp=function(){s.isXmpEnabled=!0},s.disableXmp=function(){s.isXmpEnabled=!1},s.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete)&&(d(t)?e&&e.call(t):m(t,e),!0)},s.getTag=function(t,e){if(d(t))return t.exifdata[e]},s.getIptcTag=function(t,e){if(d(t))return t.iptcdata[e]},s.getAllTags=function(t){if(!d(t))return{};var e,i=t.exifdata,n={};for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n},s.getAllIptcTags=function(t){if(!d(t))return{};var e,i=t.iptcdata,n={};for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n},s.pretty=function(t){if(!d(t))return"";var e,i=t.exifdata,n="";for(e in i)i.hasOwnProperty(e)&&("object"==typeof i[e]?i[e]instanceof Number?n+=e+" : "+i[e]+" ["+i[e].numerator+"/"+i[e].denominator+"]\r\n":n+=e+" : ["+i[e].length+" values]\r\n":n+=e+" : "+i[e]+"\r\n");return n},s.readFromBinaryFile=function(t){return p(t)},o=[],a=function(){return s}.apply(e,o),void 0===a||(t.exports=a)}).call(this)},"786d":function(t,e,i){},"78eb":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}}},8270:function(t,e,i){},"83fc":function(t,e,i){"use strict";var n=i("f52e"),o=i.n(n);o.a},bcd3:function(t,e,i){},c3a6:function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743")},e7e5:function(t,e,i){"use strict";i("68ef"),i("a71a"),i("9d70"),i("3743"),i("4d75"),i("e3b3"),i("b258")},f299:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"feedback-wrap"},[i("div",{staticClass:"type-wrapper"},[i("p",{staticClass:"title"},[t._v("问题类型")]),i("div",{staticClass:"type-inner-wrapper"},t._l(t.columns,function(e,n){return i("span",{class:{active:n===t.choose_type},on:{click:function(e){t.changeType(n)}}},[t._v("\n      "+t._s(e)+"\n    ")])}))]),i("div",[i("p",{staticClass:"title"},[t._v("问题描述")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.describe,expression:"describe"}],attrs:{placeholder:"请输入您要提问的问题......"},domProps:{value:t.describe},on:{input:function(e){e.target.composing||(t.describe=e.target.value)}}})]),i("div",{staticClass:"upload-img-wrapper"},[i("p",{staticClass:"title"},[t._v("上传图片")]),i("van-uploader",{attrs:{accept:"image/jpg,image/jpeg,image/png","preview-full-image":!1,"max-count":3,"before-read":t.beforeRead,"after-read":t.afterRead},on:{delete:t.beforeDelete},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},[i("van-button",{staticClass:"btn-upload",attrs:{type:"primary"}},[i("van-icon",{directives:[{name:"show",rawName:"v-show",value:!t.imgUploadLoading,expression:"!imgUploadLoading"}],attrs:{name:"plus"}}),i("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.imgUploadLoading,expression:"imgUploadLoading"}]})],1)],1)],1),i("button",{staticClass:"btn-commit",on:{click:t.commit}},[t._v("提交")]),i("van-popup",{attrs:{"close-on-click-overlay":!1},model:{value:t.showLoading,callback:function(e){t.showLoading=e},expression:"showLoading"}},[i("div",{staticClass:"pd-tb-15"},[i("van-loading",{attrs:{color:"#1989fa",vertical:""}},[t._v("\n        正在提交您的问题， 请等候。\n      ")])],1)])],1)},o=[],a=i("a322"),s=(i("c3a6"),i("ad06")),r=(i("ac1e"),i("543e")),c=(i("66b9"),i("b650")),l=(i("8a58"),i("e41f")),h=(i("68ef"),i("e3b3"),i("a526"),i("f253")),u=(i("7f7f"),i("a71a"),i("9d70"),i("3743"),i("09fe"),i("4d75"),i("8270"),i("786d"),i("504b"),i("bcd3"),i("1988")),d=i("d282"),f=i("ea8e"),g=i("a142");function m(t){return Array.isArray(t)?t:[t]}function p(t,e){return new Promise(function(i){if("file"!==e){var n=new FileReader;n.onload=function(t){i(t.target.result)},"dataUrl"===e?n.readAsDataURL(t):"text"===e&&n.readAsText(t)}else i()})}function v(t,e){return m(t).some(function(t){return t.size>e})}var b=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function w(t){return b.test(t)}function y(t){return!!t.isImage||(t.file&&t.file.type?0===t.file.type.indexOf("image"):t.url?w(t.url):!!t.content&&0===t.content.indexOf("data:image"))}var S=i("78eb"),x=i("2638"),C=i.n(x),P=Object(d["a"])("image"),I=P[0],F=P[1],D=I({props:{src:String,fit:String,alt:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,iconPrefix:String,showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},errorIcon:{type:String,default:"photo-fail"},loadingIcon:{type:String,default:"photo"}},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{style:function(){var t={};return Object(g["c"])(this.width)&&(t.width=Object(f["a"])(this.width)),Object(g["c"])(this.height)&&(t.height=Object(f["a"])(this.height)),Object(g["c"])(this.radius)&&(t.overflow="hidden",t.borderRadius=Object(f["a"])(this.radius)),t}},created:function(){var t=this.$Lazyload;t&&g["b"]&&(t.$on("loaded",this.onLazyLoaded),t.$on("error",this.onLazyLoadError))},beforeDestroy:function(){var t=this.$Lazyload;t&&(t.$off("loaded",this.onLazyLoaded),t.$off("error",this.onLazyLoadError))},methods:{onLoad:function(t){this.loading=!1,this.$emit("load",t)},onLazyLoaded:function(t){var e=t.el;e===this.$refs.image&&this.loading&&this.onLoad()},onLazyLoadError:function(t){var e=t.el;e!==this.$refs.image||this.error||this.onError()},onError:function(t){this.error=!0,this.loading=!1,this.$emit("error",t)},onClick:function(t){this.$emit("click",t)},genPlaceholder:function(){var t=this.$createElement;return this.loading&&this.showLoading&&g["b"]?t("div",{class:F("loading")},[this.slots("loading")||t(s["a"],{attrs:{name:this.loadingIcon,classPrefix:this.iconPrefix},class:F("loading-icon")})]):this.error&&this.showError?t("div",{class:F("error")},[this.slots("error")||t(s["a"],{attrs:{name:this.errorIcon,classPrefix:this.iconPrefix},class:F("error-icon")})]):void 0},genImage:function(){var t=this.$createElement,e={class:F("img"),attrs:{alt:this.alt},style:{objectFit:this.fit}};if(!this.error)return this.lazyLoad?t("img",C()([{ref:"image",directives:[{name:"lazy",value:this.src}]},e])):t("img",C()([{attrs:{src:this.src},on:{load:this.onLoad,error:this.onError}},e]))}},render:function(){var t=arguments[0];return t("div",{class:F({round:this.round}),style:this.style,on:{click:this.onClick}},[this.genImage(),this.genPlaceholder(),this.slots()])}}),T=i("2b0e"),O=Object(d["a"])("image-preview"),L=O[0],j=O[1],U=i("6605"),R=i("3875"),E=i("5fbe"),z=i("02de"),M=i("1325"),k=i("4598"),A=i("482d"),$=i("9884"),N=Object(d["a"])("swipe"),B=N[0],G=N[1],X=B({mixins:[R["a"],Object($["b"])("vanSwipe"),Object(E["a"])(function(t,e){t(window,"resize",this.resize,!0),t(window,"orientationchange",this.resize,!0),t(window,"visibilitychange",this.onVisibilityChange),e?this.initialize():this.clear()})],props:{width:[Number,String],height:[Number,String],autoplay:[Number,String],vertical:Boolean,lazyRender:Boolean,indicatorColor:String,loop:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},touchable:{type:Boolean,default:!0},initialSwipe:{type:[Number,String],default:0},showIndicators:{type:Boolean,default:!0},stopPropagation:{type:Boolean,default:!0}},data:function(){return{rect:null,offset:0,active:0,deltaX:0,deltaY:0,swiping:!1,computedWidth:0,computedHeight:0}},watch:{children:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t>0?this.autoPlay():this.clear()}},computed:{count:function(){return this.children.length},maxCount:function(){return Math.ceil(Math.abs(this.minOffset)/this.size)},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var t,e=this.vertical?"height":"width",i=this.vertical?"width":"height";return t={},t[e]=this.trackSize+"px",t[i]=this[i]?this[i]+"px":"",t.transitionDuration=(this.swiping?0:this.duration)+"ms",t.transform="translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)",t},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}},minOffset:function(){return(this.vertical?this.rect.height:this.rect.width)-this.size*this.count}},mounted:function(){this.bindTouchEvent(this.$refs.track)},methods:{initialize:function(t){if(void 0===t&&(t=+this.initialSwipe),this.$el&&!Object(z["a"])(this.$el)){clearTimeout(this.timer);var e=this.$el.getBoundingClientRect();this.rect=e,this.swiping=!0,this.active=t,this.computedWidth=+this.width||e.width,this.computedHeight=+this.height||e.height,this.offset=this.getTargetOffset(t),this.children.forEach(function(t){t.offset=0}),this.autoPlay()}},resize:function(){this.initialize(this.activeIndicator)},onVisibilityChange:function(){document.hidden?this.clear():this.autoPlay()},onTouchStart:function(t){this.touchable&&(this.clear(),this.touchStartTime=Date.now(),this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&(Object(M["c"])(t,this.stopPropagation),this.move({offset:this.delta})))},onTouchEnd:function(){if(this.touchable&&this.swiping){var t=this.size,e=this.delta,i=Date.now()-this.touchStartTime,n=e/i,o=Math.abs(n)>.25||Math.abs(e)>t/2;if(o&&this.isCorrectDirection){var a=this.vertical?this.offsetY:this.offsetX,s=0;s=this.loop?a>0?e>0?-1:1:0:-Math[e>0?"ceil":"floor"](e/t),this.move({pace:s,emitChange:!0})}else e&&this.move({pace:0});this.swiping=!1,this.autoPlay()}},getTargetActive:function(t){var e=this.active,i=this.count,n=this.maxCount;return t?this.loop?Object(A["b"])(e+t,-1,i):Object(A["b"])(e+t,0,n):e},getTargetOffset:function(t,e){void 0===e&&(e=0);var i=t*this.size;this.loop||(i=Math.min(i,-this.minOffset));var n=e-i;return this.loop||(n=Object(A["b"])(n,this.minOffset,0)),n},move:function(t){var e=t.pace,i=void 0===e?0:e,n=t.offset,o=void 0===n?0:n,a=t.emitChange,s=this.loop,r=this.count,c=this.active,l=this.children,h=this.trackSize,u=this.minOffset;if(!(r<=1)){var d=this.getTargetActive(i),f=this.getTargetOffset(d,o);if(s){if(l[0]&&f!==u){var g=f<u;l[0].offset=g?h:0}if(l[r-1]&&0!==f){var m=f>0;l[r-1].offset=m?-h:0}}this.active=d,this.offset=f,a&&d!==c&&this.$emit("change",this.activeIndicator)}},prev:function(){var t=this;this.correctPosition(),this.resetTouchStatus(),Object(k["b"])(function(){t.swiping=!1,t.move({pace:-1,emitChange:!0})})},next:function(){var t=this;this.correctPosition(),this.resetTouchStatus(),Object(k["b"])(function(){t.swiping=!1,t.move({pace:1,emitChange:!0})})},swipeTo:function(t,e){var i=this;void 0===e&&(e={}),this.correctPosition(),this.resetTouchStatus(),Object(k["b"])(function(){var n;n=i.loop&&t===i.count?0===i.active?0:t:t%i.count,e.immediate?Object(k["b"])(function(){i.swiping=!1}):i.swiping=!1,i.move({pace:n-i.active,emitChange:!0})})},correctPosition:function(){this.swiping=!0,this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,e=this.autoplay;e>0&&this.count>1&&(this.clear(),this.timer=setTimeout(function(){t.next(),t.autoPlay()},e))},genIndicator:function(){var t=this,e=this.$createElement,i=this.count,n=this.activeIndicator,o=this.slots("indicator");return o||(this.showIndicators&&i>1?e("div",{class:G("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(i)).map(function(i,o){return e("i",{class:G("indicator",{active:o===n}),style:o===n?t.indicatorStyle:null})})]):void 0)}},render:function(){var t=arguments[0];return t("div",{class:G()},[t("div",{ref:"track",style:this.trackStyle,class:G("track",{vertical:this.vertical})},[this.slots()]),this.genIndicator()])}}),Y=Object(d["a"])("swipe-item"),W=Y[0],H=Y[1],V=W({mixins:[Object($["a"])("vanSwipe")],data:function(){return{offset:0,inited:!1,mounted:!1}},mounted:function(){var t=this;this.$nextTick(function(){t.mounted=!0})},computed:{style:function(){var t={},e=this.parent,i=e.size,n=e.vertical;return t[n?"height":"width"]=i+"px",this.offset&&(t.transform="translate"+(n?"Y":"X")+"("+this.offset+"px)"),t},shouldRender:function(){var t=this.index,e=this.inited,i=this.parent,n=this.mounted;if(!i.lazyRender||e)return!0;if(!n)return!1;var o=i.activeIndicator,a=i.count-1,s=0===o&&i.loop?a:o-1,r=o===a&&i.loop?0:o+1,c=t===o||t===s||t===r;return c&&(this.inited=!0),c}},render:function(){var t=arguments[0];return t("div",{class:H(),style:this.style,on:Object(u["a"])({},this.$listeners)},[this.shouldRender&&this.slots()])}});function _(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}var J,Z={mixins:[R["a"]],props:{src:String,show:Boolean,active:Number,minZoom:[Number,String],maxZoom:[Number,String],rootWidth:Number,rootHeight:Number},data:function(){return{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}},computed:{vertical:function(){var t=this.rootWidth,e=this.rootHeight,i=e/t;return this.imageRatio>i},imageStyle:function(){var t=this.scale,e={transitionDuration:this.zooming||this.moving?"0s":".3s"};if(1!==t){var i=this.moveX/t,n=this.moveY/t;e.transform="scale("+t+", "+t+") translate("+i+"px, "+n+"px)"}return e},maxMoveX:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight/this.imageRatio:this.rootWidth;return Math.max(0,(this.scale*t-this.rootWidth)/2)}return 0},maxMoveY:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight:this.rootWidth*this.imageRatio;return Math.max(0,(this.scale*t-this.rootHeight)/2)}return 0}},watch:{show:function(t){t||this.resetScale()}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{resetScale:function(){this.setScale(1),this.moveX=0,this.moveY=0},setScale:function(t){this.scale=Object(A["b"])(t,+this.minZoom,+this.maxZoom),this.$emit("scale",{scale:this.scale,index:this.active})},toggleScale:function(){var t=this.scale>1?1:2;this.setScale(t),this.moveX=0,this.moveY=0},onTouchStart:function(t){var e=t.touches,i=this.offsetX,n=void 0===i?0:i;this.touchStart(t),this.touchStartTime=new Date,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.moving=1===e.length&&1!==this.scale,this.zooming=2===e.length&&!n,this.zooming&&(this.startScale=this.scale,this.startDistance=_(t.touches))},onTouchMove:function(t){var e=t.touches;if(this.touchMove(t),(this.moving||this.zooming)&&Object(M["c"])(t,!0),this.moving){var i=this.deltaX+this.startMoveX,n=this.deltaY+this.startMoveY;this.moveX=Object(A["b"])(i,-this.maxMoveX,this.maxMoveX),this.moveY=Object(A["b"])(n,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var o=_(e),a=this.startScale*o/this.startDistance;this.setScale(a)}},onTouchEnd:function(t){var e=!1;(this.moving||this.zooming)&&(e=!0,this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.zooming&&(this.moveX=Object(A["b"])(this.moveX,-this.maxMoveX,this.maxMoveX),this.moveY=Object(A["b"])(this.moveY,-this.maxMoveY,this.maxMoveY),this.zooming=!1),this.moving=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale())),Object(M["c"])(t,e),this.checkTap(),this.resetTouchStatus()},checkTap:function(){var t=this,e=this.offsetX,i=void 0===e?0:e,n=this.offsetY,o=void 0===n?0:n,a=new Date-this.touchStartTime,s=250,r=10;i<r&&o<r&&a<s&&(this.doubleTapTimer?(clearTimeout(this.doubleTapTimer),this.doubleTapTimer=null,this.toggleScale()):this.doubleTapTimer=setTimeout(function(){t.$emit("close"),t.doubleTapTimer=null},s))},onLoad:function(t){var e=t.target,i=e.naturalWidth,n=e.naturalHeight;this.imageRatio=n/i}},render:function(){var t=arguments[0],e={loading:function(){return t(r["a"],{attrs:{type:"spinner"}})}};return t(V,{class:j("swipe-item")},[t(D,{attrs:{src:this.src,fit:"contain"},class:j("image",{vertical:this.vertical}),style:this.imageStyle,scopedSlots:e,on:{load:this.onLoad}})])}},q=L({mixins:[R["a"],Object(U["a"])({skipToggleEvent:!0}),Object(E["a"])(function(t){t(window,"resize",this.resize,!0),t(window,"orientationchange",this.resize,!0)})],props:{className:null,closeable:Boolean,asyncClose:Boolean,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},minZoom:{type:[Number,String],default:1/3},maxZoom:{type:[Number,String],default:3},showIndex:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:500},startPosition:{type:[Number,String],default:0},overlayClass:{type:String,default:j("overlay")},closeIcon:{type:String,default:"clear"},closeOnPopstate:{type:Boolean,default:!0},closeIconPosition:{type:String,default:"top-right"}},data:function(){return{active:0,rootWidth:0,rootHeight:0,doubleClickTimer:null}},mounted:function(){this.resize()},watch:{startPosition:"setActive",value:function(t){var e=this;t?(this.setActive(+this.startPosition),this.$nextTick(function(){e.resize(),e.$refs.swipe.swipeTo(+e.startPosition,{immediate:!0})})):this.$emit("close",{index:this.active,url:this.images[this.active]})}},methods:{resize:function(){if(this.$el&&this.$el.getBoundingClientRect){var t=this.$el.getBoundingClientRect();this.rootWidth=t.width,this.rootHeight=t.height}},emitClose:function(){this.asyncClose||this.$emit("input",!1)},emitScale:function(t){this.$emit("scale",t)},setActive:function(t){t!==this.active&&(this.active=t,this.$emit("change",t))},genIndex:function(){var t=this.$createElement;if(this.showIndex)return t("div",{class:j("index")},[this.slots("index",{index:this.active})||this.active+1+" / "+this.images.length])},genCover:function(){var t=this.$createElement,e=this.slots("cover");if(e)return t("div",{class:j("cover")},[e])},genImages:function(){var t=this,e=this.$createElement;return e(X,{ref:"swipe",attrs:{lazyRender:!0,loop:this.loop,duration:this.swipeDuration,initialSwipe:this.startPosition,showIndicators:this.showIndicators,indicatorColor:"white"},class:j("swipe"),on:{change:this.setActive}},[this.images.map(function(i){return e(Z,{attrs:{src:i,show:t.value,active:t.active,maxZoom:t.maxZoom,minZoom:t.minZoom,rootWidth:t.rootWidth,rootHeight:t.rootHeight},on:{scale:t.emitScale,close:t.emitClose}})})])},genClose:function(){var t=this.$createElement;if(this.closeable)return t(s["a"],{attrs:{role:"button",name:this.closeIcon},class:j("close-icon",this.closeIconPosition),on:{click:this.emitClose}})},onClosed:function(){this.$emit("closed")},swipeTo:function(t,e){this.$refs.swipe&&this.$refs.swipe.swipeTo(t,e)}},render:function(){var t=arguments[0];if(this.shouldRender)return t("transition",{attrs:{name:"van-fade"},on:{afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],class:[j(),this.className]},[this.genClose(),this.genImages(),this.genIndex(),this.genCover()])])}}),K={loop:!0,value:!0,images:[],maxZoom:3,minZoom:1/3,onClose:null,onChange:null,className:"",showIndex:!0,closeable:!1,closeIcon:"clear",asyncClose:!1,getContainer:"body",startPosition:0,swipeDuration:500,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"},Q=function(){J=new(T["default"].extend(q))({el:document.createElement("div")}),document.body.appendChild(J.$el),J.$on("change",function(t){J.onChange&&J.onChange(t)}),J.$on("scale",function(t){J.onScale&&J.onScale(t)})},tt=function(t,e){if(void 0===e&&(e=0),!g["g"]){J||Q();var i=Array.isArray(t)?{images:t,startPosition:e}:t;return Object(u["a"])(J,K,i),J.$once("input",function(t){J.value=t}),J.$once("closed",function(){J.images=[]}),i.onClose&&(J.$off("close"),J.$once("close",i.onClose)),J}};tt.Component=q,tt.install=function(){T["default"].use(q)};var et,it=tt,nt=Object(d["a"])("uploader"),ot=nt[0],at=nt[1],st=ot({inheritAttrs:!1,mixins:[S["a"]],model:{prop:"fileList"},props:{disabled:Boolean,lazyLoad:Boolean,uploadText:String,afterRead:Function,beforeRead:Function,beforeDelete:Function,previewSize:[Number,String],previewOptions:Object,name:{type:[Number,String],default:""},accept:{type:String,default:"image/*"},fileList:{type:Array,default:function(){return[]}},maxSize:{type:[Number,String],default:Number.MAX_VALUE},maxCount:{type:[Number,String],default:Number.MAX_VALUE},deletable:{type:Boolean,default:!0},showUpload:{type:Boolean,default:!0},previewImage:{type:Boolean,default:!0},previewFullImage:{type:Boolean,default:!0},imageFit:{type:String,default:"cover"},resultType:{type:String,default:"dataUrl"},uploadIcon:{type:String,default:"photograph"}},computed:{previewSizeWithUnit:function(){return Object(f["a"])(this.previewSize)},value:function(){return this.fileList}},methods:{getDetail:function(t){return void 0===t&&(t=this.fileList.length),{name:this.name,index:t}},onChange:function(t){var e=this,i=t.target.files;if(!this.disabled&&i.length){if(i=1===i.length?i[0]:[].slice.call(i),this.beforeRead){var n=this.beforeRead(i,this.getDetail());if(!n)return void this.resetInput();if(Object(g["f"])(n))return void n.then(function(t){t?e.readFile(t):e.readFile(i)}).catch(this.resetInput)}this.readFile(i)}},readFile:function(t){var e=this,i=v(t,this.maxSize);if(Array.isArray(t)){var n=this.maxCount-this.fileList.length;t.length>n&&(t=t.slice(0,n)),Promise.all(t.map(function(t){return p(t,e.resultType)})).then(function(n){var o=t.map(function(t,e){var i={file:t,status:"",message:""};return n[e]&&(i.content=n[e]),i});e.onAfterRead(o,i)})}else p(t,this.resultType).then(function(n){var o={file:t,status:"",message:""};n&&(o.content=n),e.onAfterRead(o,i)})},onAfterRead:function(t,e){var i=this;this.resetInput();var n=t;if(e){var o=t;Array.isArray(t)?(o=[],n=[],t.forEach(function(t){t.file&&(t.file.size>i.maxSize?o.push(t):n.push(t))})):n=null,this.$emit("oversize",o,this.getDetail())}var a=Array.isArray(n)?Boolean(n.length):Boolean(n);a&&(this.$emit("input",[].concat(this.fileList,m(n))),this.afterRead&&this.afterRead(n,this.getDetail()))},onDelete:function(t,e){var i=this;if(this.beforeDelete){var n=this.beforeDelete(t,this.getDetail(e));if(!n)return;if(Object(g["f"])(n))return void n.then(function(){i.deleteFile(t,e)}).catch(g["h"])}this.deleteFile(t,e)},deleteFile:function(t,e){var i=this.fileList.slice(0);i.splice(e,1),this.$emit("input",i),this.$emit("delete",t,this.getDetail(e))},resetInput:function(){this.$refs.input&&(this.$refs.input.value="")},onPreviewImage:function(t){var e=this;if(this.previewFullImage){var i=this.fileList.filter(function(t){return y(t)}),n=i.map(function(t){return t.content||t.url});this.imagePreview=it(Object(u["a"])({images:n,startPosition:i.indexOf(t),onClose:function(){e.$emit("close-preview")}},this.previewOptions))}},closeImagePreview:function(){this.imagePreview&&this.imagePreview.close()},chooseFile:function(){this.disabled||this.$refs.input&&this.$refs.input.click()},genPreviewMask:function(t){var e=this.$createElement,i=t.status,n=t.message;if("uploading"===i||"failed"===i){var o="failed"===i?e(s["a"],{attrs:{name:"close"},class:at("mask-icon")}):e(r["a"],{class:at("loading")}),a=Object(g["c"])(n)&&""!==n;return e("div",{class:at("mask")},[o,a&&e("div",{class:at("mask-message")},[n])])}},genPreviewItem:function(t,e){var i=this,n=this.$createElement,o="uploading"!==t.status&&this.deletable,a=o&&n("div",{class:at("preview-delete"),on:{click:function(n){n.stopPropagation(),i.onDelete(t,e)}}},[n(s["a"],{attrs:{name:"cross"},class:at("preview-delete-icon")})]),r=this.slots("preview-cover",Object(u["a"])({index:e},t)),c=r&&n("div",{class:at("preview-cover")},[r]),l=y(t)?n(D,{attrs:{fit:this.imageFit,src:t.content||t.url,width:this.previewSize,height:this.previewSize,lazyLoad:this.lazyLoad},class:at("preview-image"),on:{click:function(){i.onPreviewImage(t)}}},[c]):n("div",{class:at("file"),style:{width:this.previewSizeWithUnit,height:this.previewSizeWithUnit}},[n(s["a"],{class:at("file-icon"),attrs:{name:"description"}}),n("div",{class:[at("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),c]);return n("div",{class:at("preview"),on:{click:function(){i.$emit("click-preview",t,i.getDetail(e))}}},[l,this.genPreviewMask(t),a])},genPreviewList:function(){if(this.previewImage)return this.fileList.map(this.genPreviewItem)},genUpload:function(){var t=this.$createElement;if(!(this.fileList.length>=this.maxCount)&&this.showUpload){var e,i=this.slots(),n=t("input",{attrs:Object(u["a"])({},this.$attrs,{type:"file",accept:this.accept,disabled:this.disabled}),ref:"input",class:at("input"),on:{change:this.onChange}});if(i)return t("div",{class:at("input-wrapper")},[i,n]);if(this.previewSize){var o=this.previewSizeWithUnit;e={width:o,height:o}}return t("div",{class:at("upload"),style:e},[t(s["a"],{attrs:{name:this.uploadIcon},class:at("upload-icon")}),this.uploadText&&t("span",{class:at("upload-text")},[this.uploadText]),n])}}},render:function(){var t=arguments[0];return t("div",{class:at()},[t("div",{class:at("wrapper",{disabled:this.disabled})},[this.genPreviewList(),this.genUpload()])])}}),rt=(i("e7e5"),i("d399")),ct=i("35df"),lt=(i("cadf"),i("551c"),i("097d"),{emoji:/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi}),ht=i("db04"),ut=i("6f45"),dt=i.n(ut);rt["a"].setDefaultOptions({position:"top"});var ft={name:"home",components:(et={},Object(a["a"])(et,st.name,st),Object(a["a"])(et,h["a"].name,h["a"]),Object(a["a"])(et,l["a"].name,l["a"]),Object(a["a"])(et,rt["a"].name,rt["a"]),Object(a["a"])(et,c["a"].name,c["a"]),Object(a["a"])(et,r["a"].name,r["a"]),Object(a["a"])(et,s["a"].name,s["a"]),et),data:function(){return{iccid:Object(ct["j"])("check_iccid")||"8986011775000766991",clientType:Object(ct["d"])(),isSamsung:/sm-/i.test(navigator.userAgent.toLowerCase()),choose_type:0,describe:"",imgUploadLoading:!1,fileList:[],handleFileList:[],imgType:["image/png","image/jpeg","image/jpg"],columns:["停机","体验问题","新功能建议","其他"],pickerValue:"",showLoading:!1,showPicker:!1}},created:function(){},methods:{changeType:function(t){this.choose_type=t},beforeDelete:function(t,e){this.handleFileList.splice(e.index,1)},beforeRead:function(t,e){return console.log(e),this.imgType.indexOf(t.type)<0?(Object(rt["a"])({message:"图片只支持.png,.jpeg,.jpg格式,请重新上传"}),!1):(this.imgUploadLoading=!0,!0)},afterRead:function(t){var e=this,i=1;new Promise(function(e){dt.a.getData(t.file,function(){i=dt.a.getTag(this,"Orientation"),e(i)})}).then(function(i){if("number"===typeof i){var n=i||1;e.handleIOSImg(t.file,n)}else e.handleIOSImg(t.file,1)}),this.imgUploadLoading=!1},commit:function(){var t=this;if(this.describe)if(lt.emoji.test(this.describe))Object(rt["a"])({message:"请勿输入表情符"});else{var e=this;this.showLoading=!0;var i=new FormData;if(i.append("iccid",this.iccid),i.append("type",this.choose_type+1),i.append("content",this.describe),this.handleFileList.length)for(var n=0;n<this.handleFileList.length;n++)i.append("img".concat(n+1),this.handleFileList[n]);Object(ht["b"])("/iot/v1/question/create",i).then(function(i){t.showLoading=!1,1===i.state?(t.fileList=[],Object(rt["a"])({position:"top",message:"提交成功，即将跳转至套餐列表页"}),setTimeout(function(){e.$router.push({path:"/weixin/card/plan_list"})},1500)):Object(rt["a"])({position:"top",message:i.msg})})}else Object(rt["a"])({message:"请输入问题描述"})},handleIOSImg:function(t,e){var i=this,n=document.createElement("canvas"),o=n.getContext("2d"),a=window.URL.createObjectURL(t),s=new Image;s.onload=function(){if(n.width=s.width,n.height=s.height,o.clearRect(0,0,n.width,n.height),e&&1!==e)switch(e){case 6:n.width=s.height,n.height=s.width,o.rotate(Math.PI/2),o.drawImage(this,0,-s.height,s.width,s.height);break;case 3:o.rotate(Math.PI),o.drawImage(this,-s.width,-s.height,s.width,s.height);break;case 8:n.width=s.height,n.height=s.width,o.rotate(3*Math.PI/2),o.drawImage(this,-s.width,0,s.width,s.height);break}else o.drawImage(s,0,0,s.width,s.height);var a=t.size/1024>1025?.3:.7;"iphone"===i.global_variables.device&&(a=.2);var r=n.toDataURL("image/jpeg",a);i.handleFileList.push(r)},s.src=a}}},gt=ft,mt=(i("83fc"),i("2877")),pt=Object(mt["a"])(gt,n,o,!1,null,null,null);pt.options.__file="customer_feedback.vue";e["default"]=pt.exports},f52e:function(t,e,i){}}]);
//# sourceMappingURL=customerFeedback.c3789883.js.map