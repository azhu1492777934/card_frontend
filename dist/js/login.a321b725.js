(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"6eca":function(e,t,n){"use strict";var a=n("b768"),o=n.n(a);o.a},"9ed6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-wrap"},[n("div",{staticClass:"info-wrap"},[n("div",{staticClass:"phone-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入手机号码",maxlength:"11"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),n("div",{staticClass:"code-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",placeholder:"请输入验证码",maxlength:"10"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),n("button",{staticClass:"getCode",attrs:{disabled:e.btnCode_disabled},on:{click:e.getCode}},[e._v(e._s(e.codeText))])]),n("div",{staticClass:"btn-login-wrap"},[n("button",{attrs:{disabled:e.loginDisabled},on:{click:e.login}},[e._v("绑定账户")])])])])},o=[],i=n("a322"),s=(n("7f7f"),n("9a83"),n("f564")),c=n("db04"),d=n("35df"),r={data:function(){return{decrypt_data:{},phone:"",code:"",codeText:"获取验证码",countdown:60,state:"",client_type:"",btnCode_disabled:!1,time:null,loginDisabled:!1}},components:Object(i["a"])({},s["a"].name,s["a"]),created:function(){"wechat"==Object(d["b"])()?this.client_type="wechat":"alipay"==Object(d["b"])()&&(this.client_type="alipay"),this.decrypt_data=Object(d["f"])("decrypt_data","obj")},methods:{login:function(){var e=this;""!=this.phone||""!=this.code?/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.phone)?(this.loginDisabled=!0,Object(c["b"])("/accountCenter/v2/user/bind?"+Object(d["d"])({},"post"),{mobile:this.phone,code:this.code,from:this.client_type,uuid:this.decrypt_data.openid,nickname:this.decrypt_data.nickname,gender:this.decrypt_data.sex,avatar:this.decrypt_data.headimgurl}).then(function(t){if(e.loginDisabled=!1,0==t.error){var n=e;Object(d["j"])("token",t.data),Object(s["a"])({message:"账户绑定成功",background:"#60ce53"}),setTimeout(function(){n.$router.push({path:"/weixin/new_auth"})},2e3)}else if("11002"==t.error)e.$emit("getToken");else if(30002==t.error){Object(s["a"])({message:"帐户绑定成功",background:"#60ce53"});var a=Object(d["f"])("authorized_redirect_uri");setTimeout(function(){location.href=a},2e3)}else Object(s["a"])({message:t.msg})})):Object(s["a"])({message:"您的手机号码有误"}):Object(s["a"])({message:"请填写您的登录信息"})},getCode:function(){var e=this;""!=this.phone?/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.phone)?(this.countDownFun(),Object(c["b"])("/accountCenter/v2/verify/send?"+Object(d["d"])({},"post"),{mobile:this.phone}).then(function(t){0==t.error?Object(s["a"])({message:"验证码发送成功",background:"#60ce53"}):"11002"==t.error?e.$emit("getToken"):Object(s["a"])({message:t.msg})})):Object(s["a"])({message:"请填写正确的手机号码"}):Object(s["a"])({message:"请输入您的手机号码"})},countDownFun:function(){var e=this,t=this;this.btnCode_disabled=!0,clearInterval(this.timer),this.timer=setInterval(function(){t.countdown<=0?(t.codeText="获取验证码",t.countdown=60,t.btnCode_disabled=!1,clearInterval(t.timer)):(t.codeText=e.countdown+"s",t.countdown--)},1e3)}}},l=r,u=(n("6eca"),n("2877")),p=Object(u["a"])(l,a,o,!1,null,null,null);p.options.__file="index.vue";t["default"]=p.exports},b768:function(e,t,n){}}]);
//# sourceMappingURL=login.a321b725.js.map