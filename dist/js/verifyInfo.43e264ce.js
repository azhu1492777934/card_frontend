(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["verifyInfo"],{"0264":function(e,t,i){},1987:function(e,t,i){"use strict";i.r(t);var a,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-id-card-wrapper"},[e._m(0),i("div",{staticClass:"step-content-wrapper"},[e._m(1),i("div",{staticClass:"info-wrap"},[i("div",{staticClass:"flex"},[i("div",[e._v("姓名")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{disabled:e.editName,type:"text"},domProps:{value:e.name},on:{blur:function(t){e.lockValue(0)},input:function(t){t.target.composing||(e.name=t.target.value)}}})]),i("div",{on:{click:function(t){e.editInfo(0)}}},[e._v("修改")])]),i("div",{staticClass:"flex"},[i("div",[e._v("身份证")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"id"}],attrs:{disabled:e.editId,type:"text"},domProps:{value:e.id},on:{blur:function(t){e.lockValue(1)},input:function(t){t.target.composing||(e.id=t.target.value)}}})]),i("div",{on:{click:function(t){e.editInfo(1)}}},[e._v("修改")])]),i("div",{staticClass:"flex"},[i("div",[e._v("地址")]),i("div",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{disabled:e.editAddress},domProps:{value:e.address},on:{blur:function(t){e.lockValue(2)},input:function(t){t.target.composing||(e.address=t.target.value)}}})]),i("div",{on:{click:function(t){e.editInfo(2)}}},[e._v("修改")])])]),i("div",{staticClass:"btn-wrapper"},[i("button",{staticClass:"btn-step-next",on:{click:e.verifyInfo}},[e._v("提交")])])]),i("div",{staticClass:"step-loading-wrapper"},[i("van-popup",{attrs:{"close-on-click-overlay":!1},model:{value:e.showLoading,callback:function(t){e.showLoading=t},expression:"showLoading"}},[i("van-loading",{attrs:{color:"#faca07"}}),i("div",[e._v(e._s(e.loadingMsg))])],1)],1)])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"step-bar-wrapper"},[i("div",[i("div",{staticClass:"step-content"},[i("img",{attrs:{src:"",alt:""}}),i("div",[e._v("身份证人物面")])])]),i("div",[i("div",{staticClass:"step-content"},[i("img",{attrs:{src:"",alt:""}}),i("div",[e._v("身份证国徽面")])])]),i("div",[i("div",{staticClass:"step-content"},[i("img",{attrs:{src:"",alt:""}}),i("div",[e._v("正面免冠")])])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"step-tip-wrapper"},[i("p",{staticClass:"step-tip"},[e._v("请确认下列信息是否与您的证件信息一致")])])}],o=(i("28a5"),i("a322")),r=(i("9a83"),i("f564")),d=(i("8a58"),i("e41f")),l=(i("e7e5"),i("d399")),c=(i("7f7f"),i("ac1e"),i("543e")),u=i("db04"),f={name:"uploadIdCard",data:function(){return{step:0,previewUrl_0:null,previewUrl_1:null,previewUrl_2:null,origin_name:"",origin_id:"",origin_address:"",name:"阿拉蕾",id:"5130911990111428312",address:"浙江省杭州市晋级醉酒楼A座101浙江省杭州市晋级醉酒楼A座101",editName:!0,editId:!0,editAddress:!0,editCount:0,showLoading:!1,loadingMsg:""}},components:(a={},Object(o["a"])(a,c["a"].name,c["a"]),Object(o["a"])(a,l["a"].name,l["a"]),Object(o["a"])(a,d["a"].name,d["a"]),Object(o["a"])(a,r["a"].name,r["a"]),a),methods:{lockValue:function(e){0===e&&(this.editName=!0),1===e&&(this.editId=!0),2===e&&(this.editAddress=!0)},editInfo:function(e){this.editCount++,0===e&&(this.editName=!1),1===e&&(this.editId=!1),2===e&&(this.editAddress=!1)},verifyID:function(e){var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "};if(!e)return{state:0,msg:"请输入您的身份证号码"};if(!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e))return{state:0,msg:"您的身份号码有误"};if(!t[e.substr(0,2)])return{state:0,msg:"您的身份号码有误"};if(18===e.length){e=e.split("");for(var i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=[1,0,"X",9,8,7,6,5,4,3,2],n=0,s=0,o=0,r=0;r<17;r++)s=e[r],o=i[r],n+=s*o;a[n%11];if(a[n%11]!==e[17])return{state:0,msg:"您的身份号码有误"}}return{state:1}},verifyInfo:function(){var e=this;if(this.name&&this.id&&this.address)if(/^[\u4e00-\u9fa5·]{2,17}$/.test(this.name)){var t=this.verifyID(this.code);t||Object(r["a"])({type:"primary",message:t.msg}),this.editCount,this.loadingMsg="正在审核您的信息，这可能需要一点时间，请等候。",this.showLoading=!0,Object(u["b"])("/v1/upload/info",{iccid:"",name:this.name,id:this.id,address:this.address}).then(function(t){e.showLoading=!1,1===t.state?e.router.push("/realname/audit_success"):-1===t.state?e.router.push("/realname/audit_fail"):Object(r["a"])({type:"primary",message:t.msg})})}else Object(r["a"])({message:"请输入真实有效的姓名"});else Object(r["a"])({message:"请输入真实且完整的身份信息"})}}},v=f,m=(i("1de1"),i("2877")),p=Object(m["a"])(v,n,s,!1,null,null,null);p.options.__file="verifyInfo.vue";t["default"]=p.exports},"1de1":function(e,t,i){"use strict";var a=i("0264"),n=i.n(a);n.a},b258:function(e,t,i){},d399:function(e,t,i){"use strict";var a=i("1988"),n=i("2b0e"),s=i("d282"),o=i("a142"),r=i("6605"),d=i("ad06"),l=i("543e"),c=Object(s["a"])("toast"),u=c[0],f=c[1],v=u({mixins:[r["a"]],props:{icon:String,className:null,loadingType:String,forbidClick:Boolean,message:[String,Number],type:{type:String,default:"text"},position:{type:String,default:"middle"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:function(){this.toggleClickable()},forbidClick:function(){this.toggleClickable()}},methods:{toggleClickable:function(){var e=this.value&&this.forbidClick;if(this.clickable!==e){this.clickable=e;var t=e?"add":"remove";document.body.classList[t]("van-toast--unclickable")}},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")}},render:function(e){var t=this.type,i=this.icon,a=this.message,n=this.loadingType,s=i||"success"===t||"fail"===t;function r(){return s?e(d["a"],{class:f("icon"),attrs:{name:i||t}}):"loading"===t?e(l["a"],{class:f("loading"),attrs:{color:"white",type:n}}):void 0}function c(){if(Object(o["b"])(a)&&""!==a)return"html"===t?e("div",{class:f("text"),domProps:{innerHTML:a}}):e("div",{class:f("text")},[a])}return e("transition",{attrs:{name:"van-fade"},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[e("div",{directives:[{name:"show",value:this.value}],class:[f([this.position,{text:!s&&"loading"!==t}]),this.className]},[r(),c()])])}}),m={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",onClose:null,onOpened:null,duration:3e3,position:"middle",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null},p=[],g=!1,h=Object(a["a"])({},m);function b(e){return Object(o["c"])(e)?e:{message:e}}function C(){if(o["d"])return{};if(!p.length||g){var e=new(n["default"].extend(v))({el:document.createElement("div")});p.push(e)}return p[p.length-1]}function y(e){return e=Object(a["a"])({},e),e.overlay=e.mask,delete e.mask,delete e.duration,e}function _(e){void 0===e&&(e={});var t=C();return t.value&&t.updateZIndex(),e=Object(a["a"])({},h,b(e),{clear:function(){t.value=!1,e.onClose&&e.onClose(),g&&!o["d"]&&t.$on("closed",function(){clearTimeout(t.timer),p=p.filter(function(e){return e!==t});var e=t.$el.parentNode;e&&e.removeChild(t.$el),t.$destroy()})}}),Object(a["a"])(t,y(e)),clearTimeout(t.timer),e.duration>0&&(t.timer=setTimeout(function(){t.clear()},e.duration)),t}var w=function(e){return function(t){return _(Object(a["a"])({type:e},b(t)))}};["loading","success","fail"].forEach(function(e){_[e]=w(e)}),_.clear=function(e){p.length&&(e?(p.forEach(function(e){e.clear()}),p=[]):g?p.shift().clear():p[0].clear())},_.setDefaultOptions=function(e){Object(a["a"])(h,e)},_.resetDefaultOptions=function(){h=Object(a["a"])({},m)},_.allowMultiple=function(e){void 0===e&&(e=!0),g=e},_.install=function(){n["default"].use(v)},n["default"].prototype.$toast=_;t["a"]=_},e7e5:function(e,t,i){"use strict";i("68ef"),i("4d75"),i("09fe"),i("b258")}}]);
//# sourceMappingURL=verifyInfo.43e264ce.js.map