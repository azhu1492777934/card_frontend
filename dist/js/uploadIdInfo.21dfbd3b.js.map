{"version":3,"sources":["webpack:///./src/views/verification/uploadIdCard.vue?c5aa","webpack:///src/views/verification/uploadIdCard.vue","webpack:///./src/views/verification/uploadIdCard.vue?29fb","webpack:///./src/views/verification/uploadIdCard.vue","webpack:///./src/views/verification/uploadIdCard.vue?8723","webpack:///./node_modules/vant/es/toast/Toast.js","webpack:///./node_modules/vant/es/toast/index.js","webpack:///./node_modules/vant/es/toast/style/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","class","active","step","directives","name","rawName","value","expression","_m","none","type","capture","accept","on","change","e","handleUpload","_v","close-on-click-overlay","model","callback","$$v","showLoading","color","_s","loadingMsg","staticRenderFns","uploadIdCardvue_type_script_lang_js_","data","previewUrl_0","previewUrl_1","previewUrl_2","img_file_0","img_file_1","img_file_2","iccid","imei","phone","components","_components","Object","defineProperty","loading","toast","popup","notify","icon","created","cardData","utilies","_this","message","setTimeout","$router","push","methods","file","currentTarget","files","pos","lastIndexOf","substring","toLowerCase","arrImg","includes","canvas","document","createElement","context","getContext","url","window","URL","createObjectURL","img","Image","onload","console","log","width","height","clearRect","quality","size","drawImage","concat","toDataURL","uploadImgs","position","src","_this2","formData","FormData","append","http","then","res","error","status","verifyInfo","msg","code","verification_uploadIdCardvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_uploadIdCard_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_uploadIdCard_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","_createNamespace","create","createComponent","bem","Toast","mixins","props","String","className","loadingType","forbidClick","Boolean","Number","default","lockScroll","clickable","mounted","toggleClickable","destroyed","watch","action","body","classList","onAfterEnter","$emit","onOpened","onAfterLeave","h","hasIcon","ToastIcon","es_icon","Message","utils","domProps","innerHTML","afterEnter","afterLeave","text","defaultOptions","mask","onClose","duration","undefined","getContainer","overlayStyle","queue","multiple","currentOptions","esm_extends","parseOptions","createInstance","length","vue_runtime_esm","extend","el","transformOptions","overlay","toast_Toast","updateZIndex","clear","$on","clearTimeout","timer","filter","item","parent","$el","parentNode","removeChild","$destroy","toast_createMethod","forEach","method","all","shift","setDefaultOptions","resetDefaultOptions","allowMultiple","install","use","prototype","$toast"],"mappings":"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","file":"js/uploadIdInfo.21dfbd3b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-id-card-wrapper\",attrs:{\"id\":\"canvas-wrapper\"}},[_c('div',{staticClass:\"step-bar-wrapper\"},[_c('div',{class:{'active':_vm.step===0}},[_c('div',{staticClass:\"step-line step-one\"}),_c('div',{staticClass:\"step-circle\"},[_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step>0),expression:\"step>0\"}],attrs:{\"name\":\"success\"}})],1),_vm._m(0)]),_c('div',{class:{'active':_vm.step===1}},[_c('div',{staticClass:\"step-line\"}),_c('div',{staticClass:\"step-circle\"},[_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step>1),expression:\"step>1\"}],attrs:{\"name\":\"success\"}})],1),_vm._m(1)]),_c('div',{class:{'active':_vm.step===2}},[_c('div',{staticClass:\"step-line step-last\"}),_c('div',{staticClass:\"step-circle\"},[_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step>2),expression:\"step>2\"}],attrs:{\"name\":\"success\"}})],1),_vm._m(2)])]),_c('div',{staticClass:\"step-content-wrapper\",class:{'none':_vm.step!==0}},[_vm._m(3),_vm._m(4),_c('div',{staticClass:\"step-camera-wrapper\"},[_c('div',{staticClass:\"step-icon-camera\"},[_c('input',{staticClass:\"btn-upload\",attrs:{\"type\":\"file\",\"capture\":\"camera\",\"accept\":\"image/*\"},on:{\"change\":function (e){ return _vm.handleUpload(e,0); }}})]),_c('div',{staticClass:\"btn-tip\"},[_vm._v(\"拍摄身份证人像面\")])])]),_c('div',{staticClass:\"step-content-wrapper\",class:{'none':_vm.step!==1}},[_vm._m(5),_vm._m(6),_c('div',{staticClass:\"step-camera-wrapper\"},[_c('div',{staticClass:\"step-icon-camera\"},[_c('input',{staticClass:\"btn-upload\",attrs:{\"type\":\"file\",\"capture\":\"camera\",\"accept\":\"image/*\"},on:{\"change\":function (e){ return _vm.handleUpload(e,1); }}})]),_c('div',{staticClass:\"btn-tip\"},[_vm._v(\"拍摄身份者国徽面\")])])]),_c('div',{staticClass:\"step-content-wrapper\",class:{'none':_vm.step!==2}},[_vm._m(7),_vm._m(8),_c('div',{staticClass:\"step-camera-wrapper step-camera-third\"},[_c('div',{staticClass:\"step-icon-camera\"},[_c('input',{staticClass:\"btn-upload\",attrs:{\"type\":\"file\",\"capture\":\"camera\",\"accept\":\"image/*\"},on:{\"change\":function (e){ return _vm.handleUpload(e,2); }}})]),_c('div',{staticClass:\"btn-tip\"},[_vm._v(\"拍摄正面免冠照\")])])]),_c('div',{staticClass:\"step-loading-wrapper\"},[_c('van-popup',{attrs:{\"close-on-click-overlay\":false},model:{value:(_vm.showLoading),callback:function ($$v) {_vm.showLoading=$$v},expression:\"showLoading\"}},[_c('van-loading',{attrs:{\"color\":\"#faca07\"}}),_c('div',[_vm._v(_vm._s(_vm.loadingMsg))])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-content\"},[_c('div',[_vm._v(\"身份证人像面\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-content\"},[_c('div',[_vm._v(\"身份证国徽面\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-content\"},[_c('div',[_vm._v(\"正面免冠\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-tip-wrapper\"},[_c('p',{staticClass:\"step-tip\"},[_vm._v(\"真实拍摄身份证原件，无反光，无水印\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-content-first\"},[_c('div',{staticClass:\"origin-img origin-img-first\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-tip-wrapper\"},[_c('p',{staticClass:\"step-tip\"},[_vm._v(\"真实拍摄身份证原件，无反光，无水印\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-content-second\"},[_c('div',{staticClass:\"origin-img origin-img-second\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-tip-wrapper\"},[_c('p',{staticClass:\"step-tip\"},[_vm._v(\"真实拍摄持证人正面免冠照\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-content-third\"},[_c('div',{staticClass:\"origin-img origin-img-third\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"canvas-wrapper\" class=\"upload-id-card-wrapper\">\n    <!--进度指示-->\n    <div class=\"step-bar-wrapper\">\n      <div :class=\"{'active':step===0}\">\n        <div class=\"step-line step-one\"></div>\n        <div class=\"step-circle\">\n          <van-icon v-show=\"step>0\" name=\"success\"/>\n        </div>\n        <div class=\"step-content\">\n          <div>身份证人像面</div>\n        </div>\n      </div>\n      <div :class=\"{'active':step===1}\">\n        <div class=\"step-line\"></div>\n        <div class=\"step-circle\">\n          <van-icon v-show=\"step>1\" name=\"success\"/>\n        </div>\n        <div class=\"step-content\">\n          <div>身份证国徽面</div>\n        </div>\n      </div>\n      <div :class=\"{'active':step===2}\">\n        <div class=\"step-line step-last\"></div>\n        <div class=\"step-circle\">\n          <van-icon v-show=\"step>2\" name=\"success\"/>\n        </div>\n        <div class=\"step-content\">\n          <div>正面免冠</div>\n        </div>\n      </div>\n    </div>\n    <!--内容-第一步-->\n    <div :class=\"{'none':step!==0}\" class=\"step-content-wrapper\">\n      <div class=\"step-tip-wrapper\">\n        <p class=\"step-tip\">真实拍摄身份证原件，无反光，无水印</p>\n      </div>\n\n      <div class=\"step-content-first\">\n        <div class=\"origin-img origin-img-first\"></div>\n      </div>\n      <!--摄像-->\n      <div class=\"step-camera-wrapper\">\n        <div class=\"step-icon-camera\">\n          <input class=\"btn-upload\" type=\"file\" @change=\"e=>handleUpload(e,0)\" capture=\"camera\" accept=\"image/*\"/>\n        </div>\n        <div class=\"btn-tip\">拍摄身份证人像面</div>\n      </div>\n    </div>\n    <!--内容-第二步-->\n    <div :class=\"{'none':step!==1}\" class=\"step-content-wrapper\">\n      <div class=\"step-tip-wrapper\">\n        <p class=\"step-tip\">真实拍摄身份证原件，无反光，无水印</p>\n      </div>\n\n      <div class=\"step-content-second\">\n        <div class=\"origin-img origin-img-second\"></div>\n      </div>\n      <!--摄像-->\n      <div class=\"step-camera-wrapper\">\n        <div class=\"step-icon-camera\">\n          <input class=\"btn-upload\" type=\"file\" @change=\"e=>handleUpload(e,1)\" capture=\"camera\" accept=\"image/*\"/>\n        </div>\n        <div class=\"btn-tip\">拍摄身份者国徽面</div>\n      </div>\n    </div>\n    <!--内容-第三步-->\n    <div :class=\"{'none':step!==2}\" class=\"step-content-wrapper\">\n      <div class=\"step-tip-wrapper\">\n        <p class=\"step-tip\">真实拍摄持证人正面免冠照</p>\n      </div>\n\n      <div class=\"step-content-third\">\n        <div class=\"origin-img origin-img-third\"></div>\n      </div>\n      <!--摄像-->\n      <div class=\"step-camera-wrapper step-camera-third\">\n        <div class=\"step-icon-camera\">\n          <input class=\"btn-upload\" type=\"file\" @change=\"e=>handleUpload(e,2)\" capture=\"camera\" accept=\"image/*\"/>\n        </div>\n        <div class=\"btn-tip\">拍摄正面免冠照</div>\n      </div>\n      <!--下一步-->\n      <!--<button @click=\"verifyInfo\" class=\"btn-step-next\">下一步</button>-->\n    </div>\n    <!--loading-->\n    <div class=\"step-loading-wrapper\">\n      <van-popup\n        v-model=\"showLoading\"\n        :close-on-click-overlay=false\n      >\n        <van-loading color=\"#faca07\"/>\n        <div>{{loadingMsg}}</div>\n      </van-popup>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {Loading, Toast, Popup, Notify, Icon} from 'vant';\n  import {_post} from \"../../http\";\n  import {getStorage, setStorage} from \"../../utilies\";\n\n  export default {\n    name: \"uploadIdCard\",\n    data() {\n      return {\n        step: 0,\n        previewUrl_0: null,\n        previewUrl_1: null,\n        previewUrl_2: null,\n        img_file_0: null,\n        img_file_1: null,\n        img_file_2: null,\n        // loading\n        showLoading: false,\n        loadingMsg: '',\n        // 标记是否重拍\n        iccid: '',\n        imei: '',\n        phone: '',\n      }\n    },\n    components: {\n      [Loading.name]: Loading,\n      [Toast.name]: Toast,\n      [Popup.name]: Popup,\n      [Notify.name]: Notify,\n      [Icon.name]: Icon\n    },\n    created() {\n      let cardData = getStorage('cardData', 'obj');\n      let _this = this;\n      if (!cardData) {\n        Notify({message: '信息丢失,即将跳转'});\n        setTimeout(() => {\n          _this.$router.push('/weixin/card/lookup');\n        }, 2000);\n      }\n      // if (!cardData) location.href = 'http://mifi.china-m2m.com';\n      this.iccid = cardData.iccid;\n      this.imei = cardData.imei;\n      this.phone = cardData.phone;\n    },\n    methods: {\n      handleUpload(e, step) {\n        let _this = this;\n        let file = e.currentTarget.files[0];\n        if (file) {\n          let pos = file.name.lastIndexOf(\".\");\n          var type = file.name.substring(pos + 1).toLowerCase();\n          let arrImg = ['png', 'jpg', 'jpeg'];\n          if (!arrImg.includes(type)) {\n            return;\n          }\n          this.showLoading = true;\n          let canvas = document.createElement(\"canvas\");\n          let context = canvas.getContext(\"2d\");\n          if (file) {\n            let url = window.URL.createObjectURL(file);//PS:不兼容IE\n            let img = new Image();\n            img.onload = function () {\n              console.log('onload')\n              canvas.width = img.width;\n              canvas.height = img.height;\n              context.clearRect(0, 0, canvas.width, canvas.height);\n              let quality = file.size / 1024 > 1025 ? 0.5 : 0.7;//图片是否大于1M,a=压缩上传\n              context.drawImage(img, 0, 0, img.width, img.height);\n              _this[`previewUrl_${step}`] = canvas.toDataURL(\"image/jpeg\", quality);\n              _this.showLoading = false;\n              if (_this[`previewUrl_${step}`]) {\n                _this.uploadImgs(step);\n              } else {\n                Toast({\n                  position: 'top',\n                  message: '您上传的照片处理失败，请重新上传'\n                });\n                return;\n              }\n            };\n            img.src = url;\n          }\n        }\n      },\n      uploadImgs(step) {\n        let _this = this;\n        // upload info and keep waiting resulting\n        // this.loadingMsg = '正在解析您的信息，请等候。';\n        this.showLoading = true;\n        let formData = new FormData();\n        formData.append('file', this[`previewUrl_${step}`]);\n        _post('/verification/v1/upload/image', formData)\n          .then(res => {\n            this.showLoading = false;\n            if (res.error === 0 && res.status === 200) {\n              _this[`img_file_${step}`] = res.data;\n              _this.step = ++step;\n              if (_this.step > 2) {\n                //所有图片已全部处理完成\n                _this.verifyInfo();\n              }\n            } else {\n              Notify({\n                message: res.msg\n              })\n            }\n          })\n      },\n      verifyInfo() {\n        let _this = this;\n        this.loadingMsg = '正在验证您的信息,请等候认证结果';\n        this.showLoading = true;\n        let formData = new FormData();\n        formData.append('iccid', this.iccid);\n        formData.append('imei', this.imei);\n        formData.append('front', this.img_file_0);\n        formData.append('back', this.img_file_1);\n        formData.append('frontar', this.img_file_2);\n        formData.append('mobile', this.phone);\n        _post('/verification//v1/user/valids', formData)\n          .then(res => {\n            if (res.error === 0 && res.data.code === 200) {\n              _this.$router.push('/realname/audit_success');\n            } else {\n              _this.$router.push('/realname/audit_fail');\n            }\n          })\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\">\n  @import \"../../assets/less/utitlies\";\n\n  .none {\n    display: none !important;\n  }\n\n  .upload-id-card-wrapper {\n    font-size: 24px;\n\n    .step-bar-wrapper {\n      height: 345px;\n      color: #fff;\n      background-color: #faca07;\n\n      .step-line {\n        height: 2px;\n        background: linear-gradient(to right, #fff, #fff 9px, transparent 9px, transparent);\n        background-size: 14px 100%;\n      }\n\n      display: flex;\n      align-items: center;\n\n      > div {\n        flex: 1;\n        padding: 40px 0;\n        text-align: center;\n        font-size: 18px;\n      }\n\n      .active {\n        .step-circle {\n          &:before {\n            animation: scaleDraw 1.2s linear infinite;\n            z-index: 1;\n          }\n        }\n      }\n\n      .step-one {\n        margin-left: 50%;\n        background-size: 16px 100%;\n      }\n\n      .step-last {\n        margin-right: 50%;\n        background-size: 16px 100%;\n      }\n\n\n      .step-content {\n        padding-top: 20px;\n        font-size: 26px;\n      }\n\n      .step-circle {\n        position: relative;\n        width: 30px;\n        height: 30px;\n        margin: -15px auto 0;\n        border-radius: 50%;\n        background-color: #fff;\n\n        .van-icon-success {\n          color: #24bf24;\n          font-size: 30px;\n          vertical-align: -webkit-baseline-middle;\n        }\n\n        &:before, &:after {\n          content: \"\";\n          display: block;\n          position: absolute;\n          z-index: -1;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n          background-color: #fff;\n          opacity: .2;\n        }\n\n        &:after {\n          opacity: 0;\n        }\n      }\n\n    }\n\n    .step-content-wrapper {\n      min-height: calc(~ '100vh - 345px + (90px * 0.85)');\n      margin: calc(-90px * 0.85) 3% 0;\n      padding: 0 9%;\n      -webkit-border-top-left-radius: 30px;\n      -webkit-border-top-right-radius: 30px;\n      box-shadow: 0 0 9px 0 #e6e6e6;\n      background-color: #fff;\n\n      div {\n        margin: 0 auto;\n      }\n\n      .step-tip-wrapper {\n        padding: 70px 0 40px;\n\n        .step-tip {\n          padding: 15px 0;\n          color: #585858;\n          background-color: #eaf3fb;\n          font-size: 24px;\n          text-align: center;\n        }\n      }\n\n      // 身份证图片\n      .origin-img {\n        height: 320px;\n      }\n\n      .origin-img-first {\n        .bg-image('../../assets/imgs/verification/card_person');\n      }\n\n      .origin-img-second {\n        .bg-image('../../assets/imgs/verification/card_national_emblem');\n      }\n\n      .origin-img-third {\n        width: 306px;\n        height: 329px;\n        .bg-image('../../assets/imgs/verification/card_id_photo')\n      }\n    }\n\n    .step-camera-wrapper {\n      position: relative;\n      display: flex;\n      flex-wrap: wrap;\n      -webkit-box-lines: multiple;\n      padding: 50px 0 50px;\n      justify-content: center;\n      font-size: 20px;\n\n      &.step-camera-third {\n        padding-top: 20px;\n      }\n\n      .step-icon-camera {\n        width: 170px;\n        height: 170px;\n        .bg-image('../../assets/imgs/verification/btn_camera')\n      }\n\n      .btn-tip {\n        width: 100%;\n        padding-top: 25px;\n        text-align: center;\n        color: #585858;\n        font-size: 28px;\n      }\n\n      .btn-upload {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n      }\n    }\n\n    .btn-step-next {\n      width: 100%;\n      height: 60px;\n      margin-bottom: 30px;\n      line-height: 60px;\n      border-radius: 60px;\n      border: none;\n      background-image: linear-gradient(135deg, #faca07 5%, #fdd47a 100%);\n    }\n\n    // loading\n    .step-loading-wrapper {\n      .van-popup {\n        border-radius: 10px;\n        padding: 10px;\n        font-size: 26px;\n        text-align: center;\n        width: auto;\n        background-color: #fff;\n        overflow: inherit;\n      }\n\n      .van-loading {\n        margin: 0 auto;\n      }\n    }\n\n    @keyframes scaleDraw {\n      0% {\n        transform: scale(1);\n        opacity: .7;\n      }\n      100% {\n        transform: scale(2.0);\n        opacity: 0;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadIdCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadIdCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uploadIdCard.vue?vue&type=template&id=bbfd110c&\"\nimport script from \"./uploadIdCard.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadIdCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uploadIdCard.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"uploadIdCard.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadIdCard.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadIdCard.vue?vue&type=style&index=0&lang=less&\"","import { createNamespace, isDef } from '../utils';\nimport { PopupMixin } from '../mixins/popup';\nimport Icon from '../icon';\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('toast'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin],\n  props: {\n    icon: String,\n    className: null,\n    loadingType: String,\n    forbidClick: Boolean,\n    message: [String, Number],\n    type: {\n      type: String,\n      default: 'text'\n    },\n    position: {\n      type: String,\n      default: 'middle'\n    },\n    lockScroll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      clickable: false\n    };\n  },\n  mounted: function mounted() {\n    this.toggleClickable();\n  },\n  destroyed: function destroyed() {\n    this.toggleClickable();\n  },\n  watch: {\n    value: function value() {\n      this.toggleClickable();\n    },\n    forbidClick: function forbidClick() {\n      this.toggleClickable();\n    }\n  },\n  methods: {\n    toggleClickable: function toggleClickable() {\n      var clickable = this.value && this.forbidClick;\n\n      if (this.clickable !== clickable) {\n        this.clickable = clickable;\n        var action = clickable ? 'add' : 'remove';\n        document.body.classList[action]('van-toast--unclickable');\n      }\n    },\n\n    /* istanbul ignore next */\n    onAfterEnter: function onAfterEnter() {\n      this.$emit('opened');\n\n      if (this.onOpened) {\n        this.onOpened();\n      }\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.$emit('closed');\n    }\n  },\n  render: function render(h) {\n    var type = this.type,\n        icon = this.icon,\n        message = this.message,\n        loadingType = this.loadingType;\n    var hasIcon = icon || type === 'success' || type === 'fail';\n\n    function ToastIcon() {\n      if (hasIcon) {\n        return h(Icon, {\n          \"class\": bem('icon'),\n          \"attrs\": {\n            \"name\": icon || type\n          }\n        });\n      }\n\n      if (type === 'loading') {\n        return h(Loading, {\n          \"class\": bem('loading'),\n          \"attrs\": {\n            \"color\": \"white\",\n            \"type\": loadingType\n          }\n        });\n      }\n    }\n\n    function Message() {\n      if (!isDef(message) || message === '') {\n        return;\n      }\n\n      if (type === 'html') {\n        return h(\"div\", {\n          \"class\": bem('text'),\n          \"domProps\": {\n            \"innerHTML\": message\n          }\n        });\n      }\n\n      return h(\"div\", {\n        \"class\": bem('text')\n      }, [message]);\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": \"van-fade\"\n      },\n      \"on\": {\n        \"afterEnter\": this.onAfterEnter,\n        \"afterLeave\": this.onAfterLeave\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"class\": [bem([this.position, {\n        text: !hasIcon && type !== 'loading'\n      }]), this.className]\n    }, [ToastIcon(), Message()])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueToast from './Toast';\nimport { isObj, isServer } from '../utils';\nvar defaultOptions = {\n  icon: '',\n  type: 'text',\n  mask: false,\n  value: true,\n  message: '',\n  className: '',\n  onClose: null,\n  onOpened: null,\n  duration: 3000,\n  position: 'middle',\n  forbidClick: false,\n  loadingType: undefined,\n  getContainer: 'body',\n  overlayStyle: null\n};\nvar queue = [];\nvar multiple = false;\n\nvar currentOptions = _extends({}, defaultOptions);\n\nfunction parseOptions(message) {\n  if (isObj(message)) {\n    return message;\n  }\n\n  return {\n    message: message\n  };\n}\n\nfunction createInstance() {\n  /* istanbul ignore if */\n  if (isServer) {\n    return {};\n  }\n\n  if (!queue.length || multiple) {\n    var toast = new (Vue.extend(VueToast))({\n      el: document.createElement('div')\n    });\n    queue.push(toast);\n  }\n\n  return queue[queue.length - 1];\n} // transform toast options to popup props\n\n\nfunction transformOptions(options) {\n  options = _extends({}, options);\n  options.overlay = options.mask;\n  delete options.mask;\n  delete options.duration;\n  return options;\n}\n\nfunction Toast(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var toast = createInstance(); // should add z-index if previous toast has not disappeared\n\n  if (toast.value) {\n    toast.updateZIndex();\n  }\n\n  options = _extends({}, currentOptions, parseOptions(options), {\n    clear: function clear() {\n      toast.value = false;\n\n      if (options.onClose) {\n        options.onClose();\n      }\n\n      if (multiple && !isServer) {\n        toast.$on('closed', function () {\n          clearTimeout(toast.timer);\n          queue = queue.filter(function (item) {\n            return item !== toast;\n          });\n          var parent = toast.$el.parentNode;\n\n          if (parent) {\n            parent.removeChild(toast.$el);\n          }\n\n          toast.$destroy();\n        });\n      }\n    }\n  });\n\n  _extends(toast, transformOptions(options));\n\n  clearTimeout(toast.timer);\n\n  if (options.duration > 0) {\n    toast.timer = setTimeout(function () {\n      toast.clear();\n    }, options.duration);\n  }\n\n  return toast;\n}\n\nvar createMethod = function createMethod(type) {\n  return function (options) {\n    return Toast(_extends({\n      type: type\n    }, parseOptions(options)));\n  };\n};\n\n['loading', 'success', 'fail'].forEach(function (method) {\n  Toast[method] = createMethod(method);\n});\n\nToast.clear = function (all) {\n  if (queue.length) {\n    if (all) {\n      queue.forEach(function (toast) {\n        toast.clear();\n      });\n      queue = [];\n    } else if (!multiple) {\n      queue[0].clear();\n    } else {\n      queue.shift().clear();\n    }\n  }\n};\n\nToast.setDefaultOptions = function (options) {\n  _extends(currentOptions, options);\n};\n\nToast.resetDefaultOptions = function () {\n  currentOptions = _extends({}, defaultOptions);\n};\n\nToast.allowMultiple = function (value) {\n  if (value === void 0) {\n    value = true;\n  }\n\n  multiple = value;\n};\n\nToast.install = function () {\n  Vue.use(VueToast);\n};\n\nVue.prototype.$toast = Toast;\nexport default Toast;","import '../../style/base.css';\nimport '../../popup/index.css';\nimport '../../image/index.css';\nimport '../index.css';"],"sourceRoot":""}