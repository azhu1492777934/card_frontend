(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["jdReplaceMent"],{3040:function(t,e,a){"use strict";function n(t){return function(){var e=this,a=arguments;return new Promise(function(n,r){var i=t.apply(e,a);function c(t,e){try{var a=i[t](e),c=a.value}catch(t){return void r(t)}a.done?n(c):Promise.resolve(c).then(s,o)}function s(t){c("next",t)}function o(t){c("throw",t)}s()})}}a.d(e,"a",function(){return n})},4598:function(t,e,a){"use strict";(function(t){a.d(e,"c",function(){return u}),a.d(e,"b",function(){return l}),a.d(e,"a",function(){return d});var n=a("a142"),r=Date.now();function i(t){var e=Date.now(),a=Math.max(0,16-(e-r)),n=setTimeout(t,a);return r=e+a,n}var c=n["g"]?t:window,s=c.requestAnimationFrame||i,o=c.cancelAnimationFrame||c.clearTimeout;function u(t){return s.call(c,t)}function l(t){u(function(){u(t)})}function d(t){o.call(c,t)}}).call(this,a("c8ba"))},"480b":function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("9ee3")},"7ece":function(t,e,a){},"8df6":function(t,e,a){"use strict";var n=a("7ece"),r=a.n(n);r.a},"96cf":function(t,e){!function(e){"use strict";var a,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag",u="object"===typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{l=e.regeneratorRuntime=u?t.exports:{},l.wrap=_;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",m={},v={};v[c]=function(){return this};var w=Object.getPrototypeOf,g=w&&w(w(S([])));g&&g!==n&&r.call(g,c)&&(v=g);var b=j.prototype=x.prototype=Object.create(v);I.prototype=b.constructor=j,j.constructor=I,j[o]=I.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===I||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},D(O.prototype),O.prototype[s]=function(){return this},l.AsyncIterator=O,l.async=function(t,e,a,n){var r=new O(_(t,e,a,n));return l.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},D(b),b[o]="Generator",b[c]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){while(e.length){var n=e.pop();if(n in t)return a.value=n,a.done=!1,a}return a.done=!0,a}},l.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=a)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=a),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],s=c.completion;if("root"===c.tryLoc)return n("end");if(c.tryLoc<=this.prev){var o=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(o&&u){if(this.prev<c.catchLoc)return n(c.catchLoc,!0);if(this.prev<c.finallyLoc)return n(c.finallyLoc)}else if(o){if(this.prev<c.catchLoc)return n(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return n(c.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),T(a),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var r=n.arg;T(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=a),m}}}function _(t,e,a,n){var r=e&&e.prototype instanceof x?e:x,i=Object.create(r.prototype),c=new E(n||[]);return i._invoke=k(t,a,c),i}function y(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}function x(){}function I(){}function j(){}function D(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(t){function e(a,n,i,c){var s=y(t[a],t,n);if("throw"!==s.type){var o=s.arg,u=o.value;return u&&"object"===typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,i,c)},function(t){e("throw",t,i,c)}):Promise.resolve(u).then(function(t){o.value=t,i(o)},c)}c(s.arg)}var a;function n(t,n){function r(){return new Promise(function(a,r){e(t,n,a,r)})}return a=a?a.then(r,r):r()}this._invoke=n}function k(t,e,a){var n=d;return function(r,i){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw i;return N()}a.method=r,a.arg=i;while(1){var c=a.delegate;if(c){var s=L(c,a);if(s){if(s===m)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===d)throw n=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=h;var o=y(t,e,a);if("normal"===o.type){if(n=a.done?f:p,o.arg===m)continue;return{value:o.arg,done:a.done}}"throw"===o.type&&(n=f,a.method="throw",a.arg=o.arg)}}}function L(t,e){var n=t.iterator[e.method];if(n===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=a,L(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=y(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=a),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function S(t){if(t){var e=t[c];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){while(++n<t.length)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=a,e.done=!0,e};return i.next=i}}return{next:N}}function N(){return{value:a,done:!0}}}(function(){return this}()||Function("return this")())},"9ee3":function(t,e,a){},a37c:function(t,e,a){"use strict";var n=a("d282"),r=a("a142"),i=a("4598"),c=a("5fbe"),s=a("ad06"),o=Object(n["a"])("notice-bar"),u=o[0],l=o[1];e["a"]=u({mixins:[Object(c["a"])(function(t){t(window,"pageshow",this.start)})],props:{text:String,mode:String,color:String,leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null},delay:{type:[Number,String],default:1},speed:{type:[Number,String],default:50}},data:function(){return{show:!0,offset:0,duration:0,wrapWidth:0,contentWidth:0}},watch:{scrollable:"start",text:{handler:"start",immediate:!0}},activated:function(){this.start()},methods:{onClickIcon:function(t){"closeable"===this.mode&&(this.show=!1,this.$emit("close",t))},onTransitionEnd:function(){var t=this;this.offset=this.wrapWidth,this.duration=0,Object(i["c"])(function(){Object(i["b"])(function(){t.offset=-t.contentWidth,t.duration=(t.contentWidth+t.wrapWidth)/t.speed,t.$emit("replay")})})},reset:function(){this.offset=0,this.duration=0,this.wrapWidth=0,this.contentWidth=0},start:function(){var t=this,e=Object(r["c"])(this.delay)?1e3*this.delay:0;this.reset(),clearTimeout(this.startTimer),this.startTimer=setTimeout(function(){var e=t.$refs,a=e.wrap,n=e.content;if(a&&n&&!1!==t.scrollable){var r=a.getBoundingClientRect().width,c=n.getBoundingClientRect().width;(t.scrollable||c>r)&&Object(i["b"])(function(){t.offset=-c,t.duration=c/t.speed,t.wrapWidth=r,t.contentWidth=c})}},e)}},render:function(){var t=this,e=arguments[0],a=this.slots,n=this.mode,r=this.leftIcon,i=this.onClickIcon,c={color:this.color,background:this.background},o={transform:this.offset?"translateX("+this.offset+"px)":"",transitionDuration:this.duration+"s"};function u(){var t=a("left-icon");return t||(r?e(s["a"],{class:l("left-icon"),attrs:{name:r}}):void 0)}function d(){var t,r=a("right-icon");return r||("closeable"===n?t="cross":"link"===n&&(t="arrow"),t?e(s["a"],{class:l("right-icon"),attrs:{name:t},on:{click:i}}):void 0)}return e("div",{attrs:{role:"alert"},directives:[{name:"show",value:this.show}],class:l({wrapable:this.wrapable}),style:c,on:{click:function(e){t.$emit("click",e)}}},[u(),e("div",{ref:"wrap",class:l("wrap"),attrs:{role:"marquee"}},[e("div",{ref:"content",class:[l("content"),{"van-ellipsis":!1===this.scrollable&&!this.wrapable}],style:o,on:{transitionend:this.onTransitionEnd}},[this.slots()||this.text])]),d()])}})},a481:function(t,e,a){a("214f")("replace",2,function(t,e,a){return[function(n,r){"use strict";var i=t(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,i,r):a.call(String(i),n,r)},a]})},c3a6:function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743")},e7e5:function(t,e,a){"use strict";a("68ef"),a("a71a"),a("9d70"),a("3743"),a("4d75"),a("e3b3"),a("b258")},efb8:function(t,e,a){"use strict";a.r(e);var n,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eqReplaceMent"},[a("div",{staticClass:"usage-wrap hide-user"},[a("div",{ref:"orderTop",staticClass:"order-top"},[a("ul",t._l(t.statusList,function(e,n){return a("li",{key:n,class:{checked:t.statusIndex==n},on:{click:function(e){t.changeStatus(n)}}},[t._v("\n          "+t._s(e)+"\n          "),a("span",{staticClass:"deco-border-arrow"})])}))]),a("div",{ref:"SwiperWwrap",staticClass:"swipe-wrap"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.statusIndex,expression:"statusIndex==0"}]},[a("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"尊敬的用户您好，您使用的物联网卡已到期。因系统原因，原有续费服务已关闭，为能继续给您提供更好的服务和感谢您长久以来对我们的支持，您可以参与换新卡活动，并有众多靓号供您选择。"}}),a("ul",[a("li",{staticClass:"borderStyle"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.replaceData.iccid,expression:"replaceData.iccid"}],attrs:{placeholder:"请输入要更换卡的卡号",type:"text"},domProps:{value:t.replaceData.iccid},on:{input:function(e){e.target.composing||t.$set(t.replaceData,"iccid",e.target.value)}}}),a("i",{staticClass:"scanCode",on:{click:function(e){t.scanIccid(1)}}})]),a("li",{class:{marginStyle:!t.newIccid}},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newIccid,expression:"newIccid"}],attrs:{placeholder:"请选择",type:"text",readonly:""},domProps:{value:t.newIccid},on:{focus:function(e){t.showIccid=!0},input:function(e){e.target.composing||(t.newIccid=e.target.value)}}})]),a("li",{staticClass:"borderStyle"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.replaceData.user_name,expression:"replaceData.user_name"}],attrs:{placeholder:"请输入收件人姓名",type:"text"},domProps:{value:t.replaceData.user_name},on:{input:function(e){e.target.composing||t.$set(t.replaceData,"user_name",e.target.value)}}})]),a("li",{staticClass:"borderStyle"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.replaceData.mobile,expression:"replaceData.mobile"}],attrs:{placeholder:"请输入手机号",type:"number"},domProps:{value:t.replaceData.mobile},on:{input:function(e){e.target.composing||t.$set(t.replaceData,"mobile",e.target.value)}}})]),a("li",{staticClass:"marginStyle"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.replaceData.code,expression:"replaceData.code"}],attrs:{placeholder:"请输入短信验证码",type:"text"},domProps:{value:t.replaceData.code},on:{input:[function(e){e.target.composing||t.$set(t.replaceData,"code",e.target.value)},function(e){t.limlit()}]}}),a("span",{staticClass:"getCode",on:{click:function(e){t.getCode(t.replaceData.mobile)}}},[t._v(t._s(t.codeText))])]),a("li",{staticClass:"borderStyle"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.areaData,expression:"areaData"}],attrs:{placeholder:"请选择省市区街道",type:"text",readonly:""},domProps:{value:t.areaData},on:{focus:function(e){t.show=!0},input:function(e){e.target.composing||(t.areaData=e.target.value)}}})]),a("li",{attrs:{stye:"-webkit-user-select:text !important;"}},[t._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:t.replaceData.addr,expression:"replaceData.addr"}],attrs:{placeholder:"请输入详细地址",type:"text"},domProps:{value:t.replaceData.addr},on:{input:function(e){e.target.composing||t.$set(t.replaceData,"addr",e.target.value)}}})])]),a("div",{staticClass:"submitButton"},[a("div",{on:{click:function(e){t.submit()}}},[t._v("提交")]),a("div",[t._v("注：请仔细核对信息后再提交")]),a("div",[t._v("新卡1-3个工作日发出")]),a("div",[t._v("如有疑问请联系客服热线：0755-33528333")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.statusIndex,expression:"statusIndex==1"}]},[t._l(t.replaceList,function(e,n){return a("div",{key:n,staticClass:"replaceList"},[a("div",{staticClass:"wrapBox1"},[e.model_name?a("div",{staticClass:"wrapBox2"},[a("div",[t._v("设备型号")]),a("div",[t._v(t._s(e.model_name))])]):t._e(),e.model_name?t._e():a("div",{staticClass:"wrapBox2"},[a("div"),a("div",[t._v("卡更换")])]),a("div",{staticClass:"wrapBox3"},[e.iccid?a("div",[a("span",[t._v("ICCID   ")]),a("span",[t._v(t._s(e.iccid))])]):t._e(),a("div",[a("span",[t._v("物流公司")]),e.express_name?a("span",[t._v(t._s(e.express_name))]):t._e(),e.express_name?t._e():a("span",[t._v("暂无物流信息")])]),a("div",[a("span",[t._v("快递单号")]),e.express_no?a("span",[t._v(t._s(e.express_no))]):t._e(),e.express_no?t._e():a("span",[t._v("暂无物流信息")])])])]),a("div",{staticClass:"wrapBox4"},[e.operator_at?a("div",[t._v(" 发货时间: "+t._s(e.operator_at)+" ")]):t._e(),e.operator_at?t._e():a("span",[t._v("暂无物流信息")]),e.operator_at?a("div",{staticClass:"cfmButton",class:{unreceived:1==e.plan_transfer}},[1!=e.plan_transfer?a("span",{on:{click:function(a){t.cfmButton(e.id,e.new_source,e.new_iccid)}}},[t._v("确认收货")]):t._e(),1==e.plan_transfer?a("span",[t._v("已收货")]):t._e()]):t._e()])])}),0==t.replaceList.length?a("div",{staticClass:"noMsg"},[t._v("暂无物流记录")]):t._e()],2)]),a("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-area",{attrs:{"area-list":t.areaList},on:{cancel:function(e){t.show=!1},confirm:t.getAreaList}})],1),a("van-popup",{style:{height:"55%"},attrs:{round:"",position:"bottom",closeable:!0},model:{value:t.showIccid,callback:function(e){t.showIccid=e},expression:"showIccid"}},[a("div",{staticClass:"showIccid"},[a("div",{staticClass:"iccidTitle"},[t._v("请选择号码")]),a("div",{staticClass:"container"},t._l(t.newIccidList,function(e,n){return a("div",{key:n,staticClass:"item",on:{click:function(e){t.getChooseIccid(e)}}},[t._v(t._s(e))])})),a("div",{staticClass:"changeIccid"},[a("input",{attrs:{type:"button",value:"换一批"},on:{click:function(e){t.changeNewIccidList()}}}),a("van-icon",{attrs:{name:"replay"}})],1)])])],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("span",{staticClass:"redWord"},[t._v("*")]),t._v(" ICCID卡号:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("span",{staticClass:"redWord"},[t._v("*")]),t._v("新的卡号:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("span",{staticClass:"redWord"},[t._v("*")]),t._v(" 收件人姓名:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("span",{staticClass:"redWord"},[t._v("*")]),t._v(" 手机号码:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("span",{staticClass:"redWord"},[t._v("*")]),t._v(" 验证码:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("span",{staticClass:"redWord"},[t._v("*")]),t._v(" 所在地区:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("span",{staticClass:"redWord"},[t._v("*")]),t._v("详细地址:")])}],c=(a("e17f"),a("2241")),s=(a("a481"),a("96cf"),a("3040")),o=(a("9a83"),a("f564")),u=a("a322"),l=(a("db2c"),a("1125")),d=(a("480b"),a("a37c")),p=(a("c3a6"),a("ad06")),h=(a("ac1e"),a("543e")),f=(a("8a58"),a("e41f")),m=(a("7f7f"),a("e7e5"),a("d399")),v=(a("cadf"),a("551c"),a("097d"),a("7212")),w=a("35df"),g=a("db04"),b=a("851b"),_={name:"jdReplaceMent",components:(n={},Object(u["a"])(n,m["a"].name,m["a"]),Object(u["a"])(n,f["a"].name,f["a"]),Object(u["a"])(n,h["a"].name,h["a"]),Object(u["a"])(n,p["a"].name,p["a"]),Object(u["a"])(n,d["a"].name,d["a"]),Object(u["a"])(n,"swiper",v["swiper"]),Object(u["a"])(n,"swiperSlide",v["swiperSlide"]),Object(u["a"])(n,"vanArea",l["a"]),n),data:function(){var t=this;return{today:Object(w["b"])(),timeStamp:(new Date).getTime(),iccid:Object(w["j"])("check_iccid"),source:Object(w["j"])("check_realNameSource"),client_type:Object(w["d"])(),statusList:["卡更换"],statusIndex:0,usageListObj:{},swiperOption:{on:{slideChangeTransitionEnd:function(e){t.statusIndex=this.activeIndex}}},replaceData:{model_name:"",user_name:"",mobile:"",code:"",province:"",city:"",district:"",addr:"",iccid:""},areaData:"",codeText:"获取验证码",countdown:60,show:!1,areaList:b["a"],replaceList:[],currentType:1,gift:2,youku_mobile:"",showIccid:!1,count:1,newIccid:"",step:0,newIccidList:[],newIccidTotal:[],newIccidData:[]}},created:function(){this.initial()},computed:{},methods:{initial:function(){Object(w["k"])("iccid")&&(this.replaceData.iccid=Object(w["k"])("iccid")),this.getNewIccidList()},changeStatus:function(t){this.statusIndex=t,1==t&&this.getList(),this.replaceData={model_name:"",user_name:"",mobile:"",code:"",province:"",city:"",district:"",addr:"",iccid:""},this.areaData="",this.gift=2,this.youku_mobile=""},changeNewIccidList:function(){this.newIccidList=[],this.step>this.newIccidTotal.length-1&&(this.step=0);for(var t=0;t<=9;t++)this.newIccidList.push(this.newIccidTotal[this.step]),this.step++},getNewIccidList:function(){var t=this;Object(g["a"])("/iot/v1/weixin/cards/get_lianghao",{iccid:this.newIccid}).then(function(e){if(1==e.status){if(t.newIccidData=e.data,t.newIccidData[0].constructor===Object){t.newIccidData.map(function(e){t.newIccidTotal.push(e.msisdn)});for(var a=t.newIccidTotal.length>9?9:t.newIccidTotal.length-1,n=0;n<=a;n++)t.newIccidList.push(t.newIccidTotal[t.step]),t.step++}if(t.newIccidData[0].constructor===Array){t.newIccidData.map(function(e){t.newIccidTotal.push(e[0])});for(var r=t.newIccidTotal.length>9?9:t.newIccidTotal.length-1,i=0;i<=r;i++)t.newIccidList.push(t.newIccidTotal[t.step]),t.step++}}})},getList:function(){var t=this;Object(g["a"])("/api/v1/app/equipment/change/apply_list",{user_id:Object(w["j"])("userInfo","obj").account.user_id,type:this.currentType,offset:0,limit:999}).then(function(e){1==e.state?t.replaceList=e.data.rows:Object(o["a"])({message:e.msg})})},getCode:function(t){return t&&""!=t?/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.replaceData.mobile)?(this.countDownFun(),void Object(g["b"])("/api/v1/app/messages/send",{mobile:t,status:3}).then(function(t){1==t.state?Object(o["a"])({message:"验证码发送成功",background:"#60ce53"}):Object(o["a"])({message:t.msg})})):(Object(o["a"])({message:"请填写正确的手机号码"}),!1):(Object(o["a"])({message:"请填写手机号码"}),!1)},getChooseIccid:function(t){this.newIccid=t.target.innerText,this.showIccid=!1},countDownFun:function(){var t=this,e=this;clearInterval(this.timer),this.timer=setInterval(function(){e.countdown<=0?(e.codeText="获取验证码",e.countdown=60,clearInterval(e.timer)):(e.codeText=t.countdown+"s",e.countdown--)},1e3)},getAreaList:function(t){this.areaData="",this.replaceData.province=t[0].name,this.replaceData.city=t[1].name,t[2]?this.replaceData.district=t[2].name:this.replaceData.district="";for(var e=[],a=0;a<t.length;a++)t[a]&&e.push(t[a].name);this.areaData=e.join("/"),this.show=!1},submit:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this,/^[1-9]\d*$/.test(this.replaceData.code)){t.next=5;break}return Object(o["a"])({message:"请填写正确的验证码"}),t.abrupt("return",!1);case 5:if(0!=this.currentType){t.next=9;break}if(""!=this.replaceData.model_name){t.next=9;break}return Object(o["a"])({message:"请填写设备型号"}),t.abrupt("return",!1);case 9:if(""!=this.replaceData.iccid){t.next=12;break}return Object(o["a"])({message:"请填写卡号"}),t.abrupt("return",!1);case 12:if(""!=this.newIccid){t.next=15;break}return Object(o["a"])({message:"请选择新的卡号"}),t.abrupt("return",!1);case 15:if(""!=this.replaceData.user_name){t.next=18;break}return Object(o["a"])({message:"请填写收件人姓名"}),t.abrupt("return",!1);case 18:if(""!=this.replaceData.mobile){t.next=21;break}return Object(o["a"])({message:"请填写手机号"}),t.abrupt("return",!1);case 21:if(""!=this.replaceData.code){t.next=24;break}return Object(o["a"])({message:"请填写验证码"}),t.abrupt("return",!1);case 24:if(""!=this.replaceData.province&&""!=this.replaceData.city&&""!=this.replaceData.district){t.next=27;break}return Object(o["a"])({message:"请选择所在地区"}),t.abrupt("return",!1);case 27:if(""!=this.replaceData.addr){t.next=30;break}return Object(o["a"])({message:"请填写详细地址"}),t.abrupt("return",!1);case 30:if(!(this.replaceData.addr.length<3)){t.next=33;break}return Object(o["a"])({message:"详细地址过短"}),t.abrupt("return",!1);case 33:if(1!=this.gift){t.next=37;break}if(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.youku_mobile)){t.next=37;break}return Object(o["a"])({message:"请填写正确优酷绑定的手机号"}),t.abrupt("return",!1);case 37:for(a in 2==this.gift&&(this.youku_mobile=""),e=this.replaceData,e)e[a]=String(e[a]).replace(/\s*/g,"");e.user_id=0,e.type=2,e.gift=this.gift,e.youku_mobile=this.youku_mobile,this.newIccidData[0].constructor===Object&&this.newIccidData.some(function(t){t.msisdn==n.newIccid&&(e.new_iccid=t.iccid)}),this.newIccidData[0].constructor===Array&&this.newIccidData.some(function(t){t[0]==n.newIccid&&(e.new_iccid=t[1])}),this.cfmSubmit(e),t.next=52;break;case 49:t.prev=49,t.t0=t["catch"](0),Object(m["a"])({position:"top",message:t.t0.message});case 52:case"end":return t.stop()}},t,this,[[0,49]])}));return function(){return t.apply(this,arguments)}}(),scanIccid:function(t){var e=this;this.wx.scanQRCode({needResult:1,scanType:["barCode","qrCode"],success:function(t){var a=t.resultStr;a.indexOf(",")>-1&&(a=a.substr(a.indexOf(",")+1,a.length)),e.replaceData.iccid=a.replace(/\s*/g,"")}})},cfmButton:function(t,e,a){var n,r=this;n=35==e?"确认且实名":"确认",c["a"].confirm({title:"是否确认收货",message:"确认收货后套餐将自动转移到新卡",confirmButtonText:n}).then(function(){r.transferPlan(t,a)}).catch(function(){})},transferPlan:function(t,e){var a=this;Object(g["b"])("/api/v1/app/equipment/transfer",{id:t}).then(function(t){1==t.state?(0==Object(w["j"])("is_flow_card")&&a.activate(e),Object(o["a"])({message:"确认收货成功",background:"#60ce53"}),a.getList(),t.data&&(location.href=t.data)):Object(o["a"])({message:t.msg})})},cfmSubmit:function(t){var e=this;Object(g["b"])("/api/v1/app/equipment/change/apply",t).then(function(t){if(t.data||1!=t.state)if(/<[^>]+>/.test(t.data)){var a=document.createElement("div");a.innerHTML=t.data,document.body.appendChild(a),document.forms[0].submit()}else Object(o["a"])({message:t.msg});else Object(o["a"])({message:"提交成功",background:"#60ce53"}),e.replaceData={},e.areaData="",e.gift=2,e.youku_mobile="",e.newIccid=""})},getSource:function(t){var e=this,a=new Promise(function(t,a){Object(g["a"])("/api/v1/app/cards/details",{iccid:e.iccid}).then(function(e){1==e.state&&t(e.data.source)})});return a},activate:function(t){Object(g["a"])("/api/v1/app/cards/yd_allow_auth",{iccid:t,user_id:Object(w["j"])("userInfo","obj").account.user_id})},limlit:function(){8==this.replaceData.code.length&&(this.replaceData.code=this.replaceData.code.slice(0,4)),12==this.replaceData.code.length&&(this.replaceData.code=this.replaceData.code.slice(0,6))}}},y=_,x=(a("8df6"),a("2877")),I=Object(x["a"])(y,r,i,!1,null,null,null);I.options.__file="jdReplaceMent.vue";e["default"]=I.exports}}]);
//# sourceMappingURL=jdReplaceMent.77c33de3.js.map