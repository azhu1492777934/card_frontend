{"version":3,"sources":["webpack:///./src/views/mifi/mifi_index.vue?0e67","webpack:///./src/views/mifi/mifi_index.vue?65f2","webpack:///src/views/mifi/mifi_index.vue","webpack:///./src/views/mifi/mifi_index.vue?7175","webpack:///./src/views/mifi/mifi_index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mifi_index_vue_vue_type_style_index_0_id_a2fa5772_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mifi_index_vue_vue_type_style_index_0_id_a2fa5772_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","mifi_indexvue_type_script_lang_js_","name","data","recording_list","Object","utilies","iccid","client_type","created","checkRecordingResult","checkAllCardStatus","state","$router","push","path","checkIccid","methods","_this","$store","commit","flag","http","then","res","recordingIccid","realname","status","source","query","from","Notify","message","msg","length","i","compare","property","a","b","value1","value2","params","isExist","map","item","index","searchTime","millisecond","sort","splice","mifi_mifi_indexvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"qIAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAwfE,EAAG,4CCA3f,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,QACzFE,yCCSAC,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,eAAAC,OAAAC,EAAA,KAAAD,CAAA,4BACAE,MAAA,GACAC,YAAAH,OAAAC,EAAA,KAAAD,KAGAI,QATA,WAWA,aAAAd,KAAAa,aAAA,UAAAb,KAAAa,aAEA,GAAAH,OAAAC,EAAA,KAAAD,CAAA,SAEA,GAAAA,OAAAC,EAAA,KAAAD,CAAA,gBACAV,KAAAY,MAAAF,OAAAC,EAAA,KAAAD,CAAA,eAEA,IAAAK,EAAAf,KAAAgB,qBACA,GAAAD,EAAAE,MACAjB,KAAAkB,QAAAC,MAAAC,KAAA,qBAEApB,KAAAqB,WAAArB,KAAAY,YAIAZ,KAAAkB,QAAAC,MAAAC,KAAA,2BAKApB,KAAAkB,QAAAC,KAAA,sBAGAG,SACAD,WADA,SACAT,GAAA,IAAAW,EAAAvB,KACAA,KAAAwB,OAAAC,OAAA,kCAAAC,MAAA,IACMhB,OAAAiB,EAAA,KAAAjB,CAAN,oCACAE,UACAgB,KAAA,SAAAC,GACAN,EAAAC,OAAAC,OAAA,kCAAAC,MAAA,IACA,GAAAG,EAAAZ,OACUP,OAAAC,EAAA,KAAAD,CAAV,cAAAmB,EAAArB,KAAAI,OACUF,OAAAC,EAAA,KAAAD,CAAV,wBAAAE,GAEAW,EAAAO,gBACAlB,MAAAiB,EAAArB,KAAAI,MACAmB,SAAA,GAAAF,EAAArB,KAAAwB,QAAA,GAAAH,EAAArB,KAAAwB,SAGA,GAAAH,EAAArB,KAAAwB,OACAT,EAAAL,QAAAC,MAAAC,KAAA,qBACA,GAAAS,EAAArB,KAAAwB,QAAA,GAAAH,EAAArB,KAAAwB,SACYtB,OAAAC,EAAA,KAAAD,CAAZ,uBAAAmB,EAAArB,KAAAyB,QACAV,EAAAL,QAAAC,MACAC,KAAA,6BACAc,OAAAC,KAAA,YAIAC,QAAAC,QAAAR,EAAAS,SAIAtB,mBA9BA,WA+BA,IAAAJ,EACA,GAAAZ,KAAAS,eAAA8B,QAAA,EACA,OACAtB,MAAA,GAGA,QAAAuB,EAAA,EAAAA,EAAAxC,KAAAS,eAAA8B,OAAAC,IACA,GAAAxC,KAAAS,eAAA+B,GAAAT,SAAA,CACAnB,EAAAZ,KAAAS,eAAA+B,GAAA5B,MACA,MAGA,OAAAA,GAEAK,MAAA,EACAL,cAHA,GAQA6B,QAAA,SAAAC,GACA,gBAAAC,EAAAC,GACA,IAAAC,EAAAF,EAAAD,GACAI,EAAAF,EAAAF,GACA,OAAAI,EAAAD,IAGAf,eA1DA,SA0DAiB,GACA,IAAAC,GAAA,EACAhD,KAAAS,eAAA8B,QAEAvC,KAAAS,eAAAwC,IAAA,SAAAC,EAAAC,GACAD,EAAAtC,OAAAmC,EAAAnC,QACAsC,EAAAE,WAAA1C,OAAAC,EAAA,KAAAD,GAAA0C,WACAF,EAAAG,YAAA3C,OAAAC,EAAA,KAAAD,GAAA2C,YACAH,EAAAnB,SAAAgB,EAAAhB,SACAiB,GAAA,KAGAA,GACAhD,KAAAS,eAAAU,MACAP,MAAAmC,EAAAnC,MACAwC,WAAA1C,OAAAC,EAAA,KAAAD,GAAA0C,WACAC,YAAA3C,OAAAC,EAAA,KAAAD,GAAA2C,YACAtB,SAAAgB,EAAAhB,YAIA/B,KAAAS,eAAAU,MACAP,MAAAmC,EAAAnC,MACAwC,WAAA1C,OAAAC,EAAA,KAAAD,GAAA0C,WACAC,YAAA3C,OAAAC,EAAA,KAAAD,GAAA2C,YACAtB,SAAAgB,EAAAhB,WAIA/B,KAAAS,eAAA6C,KAAAtD,KAAAyC,QAAA,gBAEAzC,KAAAS,eAAA8B,OAAA,IACAvC,KAAAS,eAAA8C,OAAA,IAGM7C,OAAAC,EAAA,KAAAD,CAAN,iBAAAV,KAAAS,eAAA,UCzImW+C,EAAA,0BCQnWC,EAAgB/C,OAAAgD,EAAA,KAAAhD,CACd8C,EACA1D,EACAO,GACF,EACA,KACA,WACA,MAIAoD,EAAAE,QAAAC,OAAA,iBACeC,EAAA,WAAAJ","file":"js/mifi_index.7df00200.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mifi_index.vue?vue&type=style&index=0&id=a2fa5772&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mifi_index.vue?vue&type=style&index=0&id=a2fa5772&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <!--调用授权 启动页-->\n    </div>\n</template>\n\n<script>\n    import {getStorage, checkBrowser,setStorage,formatterCardTime} from \"../../utilies\";\n    import {_post} from \"../../http\";\n\n    export default {\n        name: \"index\",\n        data() {\n            return {\n                recording_list: getStorage('recording_list','arr') || [],\n                iccid: '',\n                client_type: checkBrowser(),\n            }\n        },\n        created() {\n            // 完整实名授权 并且存在绑定iccid\n            if (this.client_type == 'wechat' || this.client_type == 'alipay') {\n\n                if (getStorage('token')) {\n                    // 判断当前卡是否走完实名流程\n                    if (getStorage('check_iccid')) {\n                        this.iccid = getStorage('check_iccid');\n\n                        let checkRecordingResult = this.checkAllCardStatus();\n                        if(checkRecordingResult.state==1){\n                           this.$router.push({path:'/mifi/card/index'});\n                        }else{\n                            this.checkIccid(this.iccid);\n                        }\n\n                    } else {\n                        this.$router.push({path:'/mifi/card/lookup'});\n                    }\n                }\n\n            } else {\n                this.$router.push('/mifi/card/lookup');\n            }\n        },\n        methods: {\n            checkIccid(iccid) {\n                this.$store.commit('mifiCommon/changeLoadingStatus',{flag:true});\n                _post('/api/v1/app/new_auth/check_auth_', {\n                    iccid: iccid,\n                }).then(res => {\n                    this.$store.commit('mifiCommon/changeLoadingStatus',{flag:false});\n                    if (res.state == 1) {\n                        setStorage('check_iccid', res.data.iccid);\n                        setStorage('new_auth_search_iccid',iccid);\n\n                        this.recordingIccid({\n                            iccid:res.data.iccid,\n                            realname:(res.data.status == 2 || res.data.status == 3 ) ? false : true\n                        }); // 增加iccid实名记录\n\n                        if (res.data.status == 1) {\n                            this.$router.push({path: '/mifi/card/index',});\n                        } else if (res.data.status == 2 || res.data.status == 3) {\n                            setStorage('check_realNameSource', res.data.source);\n                            this.$router.push({\n                                path: '/weixin/new_card/real_name',\n                                query:{from:'mifi'}\n                            });\n                        }\n                    } else {\n                        Notify({message: res.msg})\n                    }\n                })\n            },\n            checkAllCardStatus(){\n                let iccid;\n                if(this.recording_list.length <=1){\n                    return{\n                        state:0\n                    }\n                }else{\n                    for(let i=0;i<this.recording_list.length;i++){\n                        if(this.recording_list[i].realname){\n                            iccid = this.recording_list[i].iccid;\n                            break\n                        }\n                    }\n                    if(iccid){\n                        return{\n                            state:1,\n                            iccid:iccid\n                        }\n                    }\n                }\n            },\n            compare: function (property) {\n                return function (a, b) {\n                    var value1 = a[property];\n                    var value2 = b[property];\n                    return value2 - value1;\n                }\n            },\n            recordingIccid(params){\n                let isExist = false;\n                if (this.recording_list.length) {\n\n                    this.recording_list.map(function (item, index) {\n                        if (item.iccid == params.iccid) {\n                            item.searchTime = formatterCardTime().searchTime;\n                            item.millisecond = formatterCardTime().millisecond;\n                            item.realname = params.realname;\n                            isExist = true;\n                        }\n                    });\n                    if (!isExist) {\n                        this.recording_list.push({\n                            'iccid': params.iccid,\n                            'searchTime': formatterCardTime().searchTime,\n                            'millisecond': formatterCardTime().millisecond,\n                            'realname': params.realname,\n                        })\n                    }\n                } else {\n                    this.recording_list.push({\n                        'iccid': params.iccid,\n                        'searchTime': formatterCardTime().searchTime,\n                        'millisecond': formatterCardTime().millisecond,\n                        'realname': params.realname,\n                    })\n                }\n\n                this.recording_list.sort(this.compare('millisecond'));\n\n                if (this.recording_list.length > 20) {\n                    this.recording_list.splice(20)\n                }\n\n                setStorage('recording_list', this.recording_list, 'arr')\n            },\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mifi_index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mifi_index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mifi_index.vue?vue&type=template&id=a2fa5772&scoped=true&\"\nimport script from \"./mifi_index.vue?vue&type=script&lang=js&\"\nexport * from \"./mifi_index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mifi_index.vue?vue&type=style&index=0&id=a2fa5772&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2fa5772\",\n  null\n  \n)\n\ncomponent.options.__file = \"mifi_index.vue\"\nexport default component.exports"],"sourceRoot":""}