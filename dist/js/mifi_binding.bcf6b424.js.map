{"version":3,"sources":["webpack:///./src/views/mifi/binding/index.vue?d673","webpack:///src/views/mifi/binding/index.vue","webpack:///./src/views/mifi/binding/index.vue?51fa","webpack:///./src/views/mifi/binding/index.vue","webpack:///./src/assets/imgs/mifi/common/avatar.jpeg","webpack:///./src/views/mifi/binding/index.vue?719d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","userInfo","headimgurl","alt","_v","_s","nickname","directives","name","rawName","value","expression","type","placeholder","domProps","on","input","$event","target","composing","iccid","maxlength","phone","code","disabled","btnCode_disabled","click","getCode","codeText","loginDisabled","login","_m","close-on-click-overlay","model","callback","$$v","isLoginError","loginErrorMsg","size","staticRenderFns","bindingvue_type_script_lang_js_","data","recording_list","Object","utilies","__webpack_require__","load_user_msg","showLoading","decrypt_data","countdown","client_type","is_count_down","time","checkInfo","components","_components","defineProperty","dialog","notify","popup","loading","watch","created","methods","_this2","state","test","http","mobile","from","uuid","openid","gender","sex","avatar","then","res","error","message","background","getUserInfo","$emit","status","msg","_this3","pre_three_num","substr","watch_card","includes","countDownFun","_this4","_this","clearInterval","timer","setInterval","_this5","JSON","stringify","UserInfo","account","bindIot","user_id","alert","title","load_user_info","curTimeStamp","Date","getTime","timeSpan","extra","showAuthorityError","params","_this6","iotCheckICCID","_this7","recordingIccid","realname","$router","push","path","source","query","flag","_flag","compare","property","a","b","value1","value2","isExist","length","map","item","index","searchTime","millisecond","sort","splice","mifi_bindingvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","module","exports","p","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/mifi_binding.bcf6b424.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"binding-wrap\"},[_c('div',{staticClass:\"userInfo\"},[_c('div',{staticClass:\"table-cell\"},[_c('img',{attrs:{\"src\":_vm.userInfo.headimgurl,\"alt\":\"头像\"}}),_c('p',[_vm._v(\"欢迎你，\"+_vm._s(_vm.userInfo.nickname))])])]),_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"iccid-wrap\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.iccid),expression:\"iccid\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的ICCID号\"},domProps:{\"value\":(_vm.iccid)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.iccid=$event.target.value}}})]),_c('div',{staticClass:\"phone-wrap\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号码\",\"maxlength\":\"11\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}})]),_c('div',{staticClass:\"code-wrap\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"number\",\"placeholder\":\"请输入验证码\",\"maxlength\":\"10\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_c('button',{staticClass:\"getCode\",attrs:{\"disabled\":_vm.btnCode_disabled},on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.codeText))])]),_c('div',{staticClass:\"btn-login-wrap\"},[_c('button',{attrs:{\"disabled\":_vm.loginDisabled},on:{\"click\":_vm.login}},[_vm._v(\"绑定\")])]),_vm._m(0)]),_c('van-popup',{attrs:{\"close-on-click-overlay\":false},model:{value:(_vm.isLoginError),callback:function ($$v) {_vm.isLoginError=$$v},expression:\"isLoginError\"}},[_c('p',{staticClass:\"showTip\"},[_vm._v(_vm._s(_vm.loginErrorMsg))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLoading),expression:\"showLoading\"}],staticClass:\"loading-wrap\"},[_c('div',{staticClass:\"loading-inner\"},[_c('van-loading',{attrs:{\"size\":\"50px\"}})],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"phone-tip\"},[_vm._v(\"\\n      温馨提示\"),_c('br'),_vm._v(\"以'145','146','166','177','199'号段开头的号码无法接收短信验证码\\n    \")])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"binding-wrap\">\r\n    <div class=\"userInfo\">\r\n      <div class=\"table-cell\">\r\n        <img :src=\"userInfo.headimgurl\" alt=\"头像\">\r\n        <p>欢迎你，{{userInfo.nickname}}</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"info-wrap\">\r\n      <div class=\"iccid-wrap\">\r\n        <input type=\"text\" placeholder=\"请输入您的ICCID号\" v-model=\"iccid\">\r\n      </div>\r\n      <div class=\"phone-wrap\">\r\n        <input type=\"text\" placeholder=\"请输入手机号码\" maxlength=\"11\" v-model=\"phone\"/>\r\n      </div>\r\n      <div class=\"code-wrap\">\r\n        <input type=\"number\" placeholder=\"请输入验证码\" maxlength=\"10\" v-model=\"code\"/>\r\n        <button :disabled=\"btnCode_disabled\" class=\"getCode\" @click=\"getCode\">{{codeText}}</button>\r\n      </div>\r\n      <div class=\"btn-login-wrap\">\r\n        <button :disabled=\"loginDisabled\" @click=\"login\">绑定</button>\r\n      </div>\r\n      <div class=\"phone-tip\">\r\n        温馨提示<br/>以'145','146','166','177','199'号段开头的号码无法接收短信验证码\r\n      </div>\r\n    </div>\r\n\r\n    <van-popup :close-on-click-overlay=\"false\" v-model=\"isLoginError\">\r\n      <p class=\"showTip\">{{loginErrorMsg}}</p>\r\n    </van-popup>\r\n\r\n    <div class=\"loading-wrap\" v-show=\"showLoading\">\r\n      <div class=\"loading-inner\">\r\n        <van-loading size=\"50px\"/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {Notify, Popup, Dialog, Loading} from 'vant'\r\n  import {_post, _get} from \"../../../http\";\r\n  import {\r\n    getStorage,\r\n    getUrlParam,\r\n    setStorage,\r\n    codeParam,\r\n    checkBrowser,\r\n    checkICCID,\r\n    GetUrlRelativePath,\r\n    formatterCardTime\r\n  } from \"../../../utilies\";\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        recording_list: getStorage('recording_list', 'arr') || [],\r\n        userInfo: getStorage('decrypt_data', 'obj') || {\r\n          headimgurl: require('../../../assets/imgs/mifi/common/avatar.jpeg'),\r\n          nickname: 'yoyoyo~'\r\n        },\r\n        load_user_msg: false,\r\n        showLoading: false,\r\n        iccid: '',\r\n        decrypt_data: {},//用户数据\r\n        phone: '',\r\n        code: '',\r\n        codeText: \"获取验证码\",\r\n        countdown: 60,\r\n        client_type: checkBrowser(),\r\n        btnCode_disabled: false,\r\n        is_count_down: false,//判断当前是否正则countdown\r\n        time: null,\r\n        loginDisabled: false,\r\n        isLoginError: false, // 当前用户是否会绑定用户失败\r\n        loginErrorMsg: '', // 绑定失败信息\r\n        checkInfo: {\r\n          iccid: false,\r\n          phone: false\r\n        }\r\n      }\r\n    },\r\n    components: {\r\n      [Dialog.name]: Dialog,\r\n      [Notify.name]: Notify,\r\n      [Popup.name]: Popup,\r\n      [Loading.name]: Loading\r\n    },\r\n    watch: {\r\n      // iccid(curVal, oldVal) {\r\n      //   let checkIccidResult = checkICCID(curVal);\r\n      //   checkIccidResult.state == 1 ? this.checkInfo.iccid = true : this.checkInfo.iccd = false;\r\n      //   (this.checkInfo.iccid && this.checkInfo.phone && !this.is_count_down) ? this.btnCode_disabled = false : this.btnCode_disabled = true\r\n      // },\r\n      // phone(curVal, oldVal) {\r\n      //   let checkPhoneResult = /^(13[0-9]|14[5679]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/.test(curVal);\r\n      //   checkPhoneResult ? this.checkInfo.phone = true : this.checkInfo.phone = false;\r\n      //   (this.checkInfo.iccid && this.checkInfo.phone && !this.is_count_down) ? this.btnCode_disabled = false : this.btnCode_disabled = true\r\n      // }\r\n    },\r\n    created() {\r\n      //获取用户信息\r\n      this.decrypt_data = getStorage('decrypt_data', 'obj');\r\n    },\r\n    methods: {\r\n      login() {\r\n        if (this.phone === '' || this.code === '' || !this.iccid) {\r\n          Notify({message: '请填写您的登录信息'});\r\n          return\r\n        }\r\n\r\n        if(checkICCID(this.iccid).state!==1){\r\n          Notify({message:'请输入正确的ICCID'});\r\n          return;\r\n        }\r\n\r\n        if (!(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/).test(this.phone)) {\r\n          Notify({message: '您的手机号码有误'});\r\n          return\r\n        }\r\n        this.loginDisabled = true;\r\n        this.showLoading = true;\r\n        _post(\"/accountCenter/v2/user/bind?\" + codeParam({}, 'post'), {\r\n          mobile: this.phone,\r\n          code: this.code,\r\n          from: this.client_type,\r\n          uuid: this.decrypt_data.openid,\r\n          nickname: this.decrypt_data.nickname,\r\n          gender: this.decrypt_data.sex,\r\n          avatar: this.decrypt_data.headimgurl\r\n        }).then((res) => {\r\n          this.loginDisabled = false;\r\n          this.showLoading = false;\r\n          if (res.error === 0 || res.error === 30002) {\r\n            if (res.error === 0) {\r\n              setStorage(\"token\", res.data, \"str\", true);\r\n            }\r\n            Notify({\r\n              message: '账户绑定成功',\r\n              background: '#60ce53'\r\n            });\r\n            this.getUserInfo();\r\n          } else if (res.error === 11002) {\r\n            setStorage('refreshUrl', GetUrlRelativePath());\r\n            this.$emit(\"getToken\", {from: 'mifi'});\r\n          } else if (res.error === 20014) {\r\n            this.code = '';\r\n            Notify({message: '用户绑定超时，请重新绑定'});\r\n          } else {\r\n            if (res.status === 500 || res.error === 20009) {\r\n              Notify({message: res.msg});\r\n            } else {\r\n              this.isLoginError = true;\r\n              res.msg ? this.loginErrorMsg = res.msg : this.loginErrorMsg = '绑定用户失败，请反馈我司客服。'\r\n            }\r\n          }\r\n\r\n        })\r\n      },\r\n      getCode() {\r\n        if (this.phone === '') {\r\n          Notify({message: '请输入您的手机号码'})\r\n          return\r\n        } else if (!(/^(13[0-9]|14[5679]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/).test(this.phone)) {\r\n          Notify({message: '请填写正确的手机号码'})\r\n          return\r\n        } else {\r\n          let pre_three_num = this.phone.substr(0, 3),\r\n            watch_card = ['145', '146', '166', '177', '199'];\r\n          if (watch_card.includes(pre_three_num)) {\r\n            Notify({message: '不支持以145,146,166,177,199开头的手机号码'});\r\n            return\r\n          } else {\r\n            Notify({message: '温馨提示：请使用本人手机号绑定账号。'});\r\n          }\r\n          this.countDownFun();\r\n\r\n          _post(\"/accountCenter/v2/verify/send?\" + codeParam({}, 'post'), {\r\n            mobile: this.phone\r\n          }).then((res) => {\r\n            if (res.error === 0) {\r\n              Notify({\r\n                message: '验证码发送成功',\r\n                background: '#60ce53'\r\n              })\r\n            } else if (res.error === 11002) {\r\n              setStorage('refreshUrl', GetUrlRelativePath());\r\n              this.$emit(\"getToken\", {from: 'mifi'});\r\n            } else {\r\n              Notify({message: res.msg})\r\n            }\r\n          })\r\n        }\r\n      },\r\n      countDownFun() {\r\n        let _this = this;\r\n        this.btnCode_disabled = true;\r\n        clearInterval(this.timer);\r\n        this.timer = setInterval(() => {\r\n          if (_this.countdown <= 0) {\r\n            _this.codeText = '获取验证码';\r\n            _this.countdown = 60;\r\n            _this.is_count_down = true;\r\n            _this.btnCode_disabled = false;\r\n            clearInterval(_this.timer);\r\n          } else {\r\n            _this.is_count_down = true;\r\n            _this.codeText = this.countdown + 's';\r\n            _this.countdown--;\r\n          }\r\n        }, 1000)\r\n      },\r\n      getUserInfo() {\r\n        //获取用户信息\r\n        this.load_user_msg = true;//用户信息遮罩\r\n        _get(\"/accountCenter/v2/user/info?\" + codeParam({}, 'get'))\r\n          .then(res => {\r\n            if (res.error === 0) {\r\n              if (res.data && JSON.stringify(res.data) !== '{}') {\r\n                let UserInfo = {\r\n                  account: res.data.account,\r\n                  avatar: res.data.avatar,\r\n                  nickname: res.data.nickname,\r\n                }\r\n                setStorage('userInfo', UserInfo, 'obj');\r\n                // if (this.client_type === 'wechat' || this.client_type === 'alipay') {\r\n                //   this.$store.commit('userInfo/changeUserStatus', true);\r\n                //   this.$store.commit('userInfo/changeUserInfo', UserInfo);\r\n                // }\r\n                this.bindIot({\r\n                  iccid: this.iccid,\r\n                  phone: this.phone,\r\n                  user_id: res.data.account.user_id,\r\n                  code: this.code,\r\n                });\r\n                this.load_user_msg = false;\r\n              } else {\r\n                let _this = this;\r\n                Dialog.alert({\r\n                  title: '账号异常',\r\n                  message: '您的账户信息存在问题,无法进行操作,请联系我司客服工作人员,我们将尽快为您解决问题。',\r\n                }).then(() => {\r\n                  _this.load_user_msg = true;\r\n                  _this.load_user_info = '账号异常';\r\n\r\n                })\r\n              }\r\n            } else if (res.error === 11002) {\r\n              setStorage('refreshUrl', GetUrlRelativePath());\r\n              this.$emit(\"getToken\", {from: 'mifi'});\r\n            } else if (res.error === 10007) {\r\n              let curTimeStamp = (new Date()).getTime(),\r\n                timeSpan = res.extra - curTimeStamp;\r\n              setStorage('timeSpan', timeSpan);\r\n              this.getUserInfo();\r\n            } else {\r\n              this.showAuthorityError('A-1' + res.error)\r\n            }\r\n          })\r\n      },// 获取用户信息\r\n      bindIot(params) {\r\n        _post('/api/v1/app/bind/iccid_userid', {\r\n          iccid: params.iccid,\r\n          user_id: params.user_id,\r\n          mobile: params.phone,\r\n        }).then(res => {\r\n          if (res.state == 1) {\r\n            this.iotCheckICCID(params.iccid);\r\n          }\r\n        })\r\n      },\r\n      iotCheckICCID(iccid) {\r\n        this.showLoading = true;\r\n        _post('/api/v1/app/new_auth/check_auth_', {\r\n          iccid: iccid,\r\n        }).then(res => {\r\n          this.showLoading = false;\r\n          if (res.state === 1) {\r\n            setStorage('check_iccid', res.data.iccid);\r\n            setStorage('new_auth_search_iccid', iccid);\r\n\r\n            this.recordingIccid({\r\n              iccid: res.data.iccid,\r\n              realname: (res.data.status == 2 || res.data.status == 3) ? false : true\r\n            }); // 增加iccid实名记录\r\n\r\n            if (res.data.status == 1) {\r\n              this.$router.push({path: '/mifi/card/index',});\r\n            } else if (res.data.status == 2 || res.data.status == 3) {\r\n              setStorage('check_realNameSource', res.data.source);\r\n              this.$router.push({\r\n                path: '/weixin/new_card/real_name',\r\n                query: {from: 'mifi'}\r\n              });\r\n            }\r\n          } else {\r\n            Notify({message: res.msg})\r\n          }\r\n        })\r\n      },\r\n      showAuthorityError(flag) {\r\n        let _this = this;\r\n        let _flag = flag ? flag : '';\r\n        Dialog.alert({\r\n          title: '账号异常',\r\n          message: '您的账户信息存在问题,无法进行操作,请联系我司客服工作人员,我们将尽快为您解决问题' + _flag + '。',\r\n        }).then(() => {\r\n          _this.load_user_msg = true;\r\n          _this.load_user_info = '账号异常' + _flag;\r\n\r\n        })\r\n      },\r\n      compare: function (property) {\r\n        return function (a, b) {\r\n          var value1 = a[property];\r\n          var value2 = b[property];\r\n          return value2 - value1;\r\n        }\r\n      },\r\n      recordingIccid(params) {\r\n        let isExist = false;\r\n        if (this.recording_list.length) {\r\n          this.recording_list.map(function (item, index) {\r\n            if (item.iccid == params.iccid) {\r\n              item.searchTime = formatterCardTime().searchTime;\r\n              item.millisecond = formatterCardTime().millisecond;\r\n              item.realname = params.realname;\r\n              isExist = true;\r\n            }\r\n          });\r\n          if (!isExist) {\r\n            this.recording_list.push({\r\n              'iccid': params.iccid,\r\n              'searchTime': formatterCardTime().searchTime,\r\n              'millisecond': formatterCardTime().millisecond,\r\n              'realname': params.realname,\r\n            })\r\n          }\r\n        } else {\r\n          this.recording_list.push({\r\n            'iccid': params.iccid,\r\n            'searchTime': formatterCardTime().searchTime,\r\n            'millisecond': formatterCardTime().millisecond,\r\n            'realname': params.realname,\r\n          })\r\n        }\r\n        this.recording_list.sort(this.compare('millisecond'));\r\n        if (this.recording_list.length > 20) {\r\n          this.recording_list.splice(20)\r\n        }\r\n        setStorage('recording_list', this.recording_list, 'arr')\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  @import \"../../../assets/less/utitlies\";\r\n\r\n  html, body, #app, .binding-wrap {\r\n    height: 100%\r\n  }\r\n\r\n  .binding-wrap {\r\n    .userInfo {\r\n      display: table;\r\n      width: 100%;\r\n      height: 537px;\r\n      margin-bottom: 50px;\r\n      .bg-image('../../assets/imgs/mifi/binding/mifi_binding_bg');\r\n\r\n      .table-cell {\r\n        display: table-cell;\r\n        vertical-align: middle;\r\n      }\r\n\r\n      img {\r\n        width: 170px;\r\n        height: 170px;\r\n        margin: -32px 0 30px;\r\n        border-radius: 20px;\r\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.5);\r\n      }\r\n\r\n      p {\r\n        font-size: 34px;\r\n        font-weight: 500;\r\n      }\r\n    }\r\n\r\n    .info-wrap {\r\n      width: 75%;\r\n      margin: 0 auto;\r\n\r\n      .phone-wrap, .code-wrap, .iccid-wrap {\r\n        margin-bottom: 40px;\r\n        text-align: left;\r\n        border-bottom: 1px solid #dadada;\r\n\r\n        input {\r\n          display: inline-block;\r\n          padding: 20px 0;\r\n          font-size: 36px;\r\n          color: #443f37;\r\n        }\r\n      }\r\n\r\n      .code-wrap {\r\n        display: flex;\r\n        justify-content: space-between;\r\n\r\n        input {\r\n          display: inline-block;\r\n          width: 57%;\r\n          font-size: 36px;\r\n        }\r\n\r\n        button {\r\n          width: 175px;\r\n          display: inline-block;\r\n          margin-bottom: 20px;\r\n          padding: 0;\r\n          text-align: center;\r\n          color: #f5c253;\r\n          font-size: 34px;\r\n          border-bottom: 2px solid #ffd655;\r\n          background-color: transparent;\r\n\r\n          &:disabled {\r\n            color: #989898;\r\n            border-bottom: 2px solid #c6c6c6;\r\n          }\r\n        }\r\n      }\r\n\r\n      .btn-login-wrap {\r\n        button {\r\n          display: inline-block;\r\n          width: 100%;\r\n          height: 80px;\r\n          margin-top: 90px;\r\n          border-radius: 80px;\r\n          line-height: 80px;\r\n          background: #fff;\r\n          color: #443f37;\r\n          font-size: 36px;\r\n          background-image: linear-gradient(45deg, #f0b546 10%, #fdd47a 100%);\r\n        }\r\n      }\r\n\r\n      .phone-tip {\r\n        padding-top: 40px;\r\n        font-size: 24px;\r\n        line-height: 32px;\r\n        color: #ff562f;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=12936e4e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/avatar.0cba868f.jpeg\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}