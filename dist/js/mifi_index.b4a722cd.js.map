{"version":3,"sources":["webpack:///./src/views/mifi/mifi_index.vue?729a","webpack:///src/views/mifi/mifi_index.vue","webpack:///./src/views/mifi/mifi_index.vue?7175","webpack:///./src/views/mifi/mifi_index.vue","webpack:///./src/views/mifi/mifi_index.vue?feb5"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","mifi_indexvue_type_script_lang_js_","name","data","recording_list","Object","utilies","iccid","client_type","created","checkRecordingResult","checkAllCardStatus","state","$router","push","path","checkIccid","methods","_this","$store","commit","flag","http","then","res","recordingIccid","realname","status","source","query","from","Notify","message","msg","length","i","compare","property","a","b","value1","value2","params","isExist","map","item","index","searchTime","millisecond","sort","splice","mifi_mifi_indexvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mifi_index_vue_vue_type_style_index_0_id_d46de550_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mifi_index_vue_vue_type_style_index_0_id_d46de550_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/mifi_index.b4a722cd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!--调用授权 启动页-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {getStorage, checkBrowser,setStorage,formatterCardTime} from \"../../utilies\";\r\n    import {_post} from \"../../http\";\r\n\r\n    export default {\r\n        name: \"index\",\r\n        data() {\r\n            return {\r\n                recording_list: getStorage('recording_list','arr') || [],\r\n                iccid: '',\r\n                client_type: checkBrowser(),\r\n            }\r\n        },\r\n        created() {\r\n            // 完整实名授权 并且存在绑定iccid\r\n            if (this.client_type == 'wechat' || this.client_type == 'alipay') {\r\n\r\n                if (getStorage('token')) {\r\n                    // 判断当前卡是否走完实名流程\r\n                    if (getStorage('check_iccid')) {\r\n                        this.iccid = getStorage('check_iccid');\r\n\r\n                        let checkRecordingResult = this.checkAllCardStatus();\r\n                        if(checkRecordingResult.state==1){\r\n                           this.$router.push({path:'/mifi/card/index'});\r\n                        }else{\r\n                            this.checkIccid(this.iccid);\r\n                        }\r\n\r\n                    } else {\r\n                        this.$router.push({path:'/mifi/card/lookup'});\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                this.$router.push('/mifi/card/lookup');\r\n            }\r\n        },\r\n        methods: {\r\n            checkIccid(iccid) {\r\n                this.$store.commit('mifiCommon/changeLoadingStatus',{flag:true});\r\n                _post('/api/v1/app/new_auth/check_auth_', {\r\n                    iccid: iccid,\r\n                }).then(res => {\r\n                    this.$store.commit('mifiCommon/changeLoadingStatus',{flag:false});\r\n                    if (res.state == 1) {\r\n                        setStorage('check_iccid', res.data.iccid);\r\n                        setStorage('new_auth_search_iccid',iccid);\r\n\r\n                        this.recordingIccid({\r\n                            iccid:res.data.iccid,\r\n                            realname:(res.data.status == 2 || res.data.status == 3 ) ? false : true\r\n                        }); // 增加iccid实名记录\r\n\r\n                        if (res.data.status == 1) {\r\n                            this.$router.push({path: '/mifi/card/index',});\r\n                        } else if (res.data.status == 2 || res.data.status == 3) {\r\n                            setStorage('check_realNameSource', res.data.source);\r\n                            this.$router.push({\r\n                                path: '/weixin/new_card/real_name',\r\n                                query:{from:'mifi'}\r\n                            });\r\n                        }\r\n                    } else {\r\n                        Notify({message: res.msg})\r\n                    }\r\n                })\r\n            },\r\n            checkAllCardStatus(){\r\n                let iccid;\r\n                if(this.recording_list.length <=1){\r\n                    return{\r\n                        state:0\r\n                    }\r\n                }else{\r\n                    for(let i=0;i<this.recording_list.length;i++){\r\n                        if(this.recording_list[i].realname){\r\n                            iccid = this.recording_list[i].iccid;\r\n                            break\r\n                        }\r\n                    }\r\n                    if(iccid){\r\n                        return{\r\n                            state:1,\r\n                            iccid:iccid\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            compare: function (property) {\r\n                return function (a, b) {\r\n                    var value1 = a[property];\r\n                    var value2 = b[property];\r\n                    return value2 - value1;\r\n                }\r\n            },\r\n            recordingIccid(params){\r\n                let isExist = false;\r\n                if (this.recording_list.length) {\r\n\r\n                    this.recording_list.map(function (item, index) {\r\n                        if (item.iccid == params.iccid) {\r\n                            item.searchTime = formatterCardTime().searchTime;\r\n                            item.millisecond = formatterCardTime().millisecond;\r\n                            item.realname = params.realname;\r\n                            isExist = true;\r\n                        }\r\n                    });\r\n                    if (!isExist) {\r\n                        this.recording_list.push({\r\n                            'iccid': params.iccid,\r\n                            'searchTime': formatterCardTime().searchTime,\r\n                            'millisecond': formatterCardTime().millisecond,\r\n                            'realname': params.realname,\r\n                        })\r\n                    }\r\n                } else {\r\n                    this.recording_list.push({\r\n                        'iccid': params.iccid,\r\n                        'searchTime': formatterCardTime().searchTime,\r\n                        'millisecond': formatterCardTime().millisecond,\r\n                        'realname': params.realname,\r\n                    })\r\n                }\r\n\r\n                this.recording_list.sort(this.compare('millisecond'));\r\n\r\n                if (this.recording_list.length > 20) {\r\n                    this.recording_list.splice(20)\r\n                }\r\n\r\n                setStorage('recording_list', this.recording_list, 'arr')\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mifi_index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mifi_index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mifi_index.vue?vue&type=template&id=d46de550&scoped=true&\"\nimport script from \"./mifi_index.vue?vue&type=script&lang=js&\"\nexport * from \"./mifi_index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mifi_index.vue?vue&type=style&index=0&id=d46de550&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d46de550\",\n  null\n  \n)\n\ncomponent.options.__file = \"mifi_index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mifi_index.vue?vue&type=style&index=0&id=d46de550&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mifi_index.vue?vue&type=style&index=0&id=d46de550&scoped=true&lang=css&\""],"sourceRoot":""}